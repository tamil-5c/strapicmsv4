import*as ha from"lodash/get";import*as j from"react";import*as y from"@strapi/design-system";import*as $ from"@strapi/icons";import*as Ea from"prop-types";import*as ba from"react-intl";import*as le from"react-router-dom";import*as _t from"@strapi/design-system/v2";import*as ya from"lodash/isEmpty";import*as xa from"lodash/pickBy";import*as Ta from"lodash/transform";import*as vt from"axios";import*as be from"qs";import*as Ca from"lodash/isNil";import*as ye from"styled-components";import*as ka from"date-fns/formatISO";import*as ht from"formik";import*as Et from"react-select";import*as bt from"date-fns";import*as Ra from"react-helmet";import*as Sa from"react-dom";import*as La from"react-query";import*as Ia from"lodash/isEqual";import*as Pa from"lodash/isObject";import*as Ma from"lodash/startsWith";var R={};(function(){R.d=function(e,t){for(var r in t)R.o(t,r)&&!R.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),function(){R.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var p={};R.d(p,{Hn:function(){return Te},xC:function(){return ge},iq:function(){return _e},NY:function(){return pn},OB:function(){return fn},ug:function(){return lt},m$:function(){return Gt},uT:function(){return ae},O4:function(){return Oe},jW:function(){return Ae},QH:function(){return Q},Y_:function(){return Fe},W1:function(){return Xt},vq:function(){return it},MG:function(){return ea},xZ:function(){return cn},tM:function(){return $e},c4:function(){return ve},x7:function(){return oe},W$:function(){return ze},J5:function(){return Qe},l0:function(){return Tn},jm:function(){return Ke},JQ:function(){return ut},Zc:function(){return ct},XL:function(){return Yt},Hw:function(){return dt},rt:function(){return ta},rU:function(){return Sn},Qj:function(){return Ln},dO:function(){return me},dJ:function(){return Je},Hz:function(){return In},ZF:function(){return Ze},X0:function(){return et},cJ:function(){return Ce},N$:function(){return xt},vG:function(){return ft},w7:function(){return aa},v4:function(){return tt},tU:function(){return at},RM:function(){return Se},oL:function(){return Na},JV:function(){return nt},ij:function(){return rt},fG:function(){return pr},fC:function(){return te},m:function(){return ot},SL:function(){return Ht},fz:function(){return re},qb:function(){return st},t3:function(){return Dr},Bg:function(){return Ge},_Y:function(){return Ut},iA:function(){return En},Ui:function(){return qe},L8:function(){return De},I8:function(){return w},w6:function(){return gr},e5:function(){return yr},ZT:function(){return Mt},dU:function(){return _r},nn:function(){return xr},tg:function(){return Me},mD:function(){return Tr},k2:function(){return J},UN:function(){return xe},CJ:function(){return kr},qX:function(){return we},OT:function(){return pt},X7:function(){return qr},CR:function(){return Rr},jV:function(){return Sr},Q1:function(){return U},WY:function(){return Fr},YB:function(){return Br},UW:function(){return ca},to:function(){return vr},I0:function(){return $r},So:function(){return Zn},L7:function(){return Be},QI:function(){return dn},Vu:function(){return Vn},Wq:function(){return Nn},W6:function(){return yt},VP:function(){return ar},Xe:function(){return oa},mZ:function(){return Qn},kY:function(){return sa},L0:function(){return nr},E2:function(){return jt},go:function(){return rr},c1:function(){return Hn},yX:function(){return Xn},F5:function(){return or},lm:function(){return Re},o1:function(){return Gn},Yw:function(){return sr},aM:function(){return Nt},Kx:function(){return V},ss:function(){return ur},vn:function(){return ue},Uq:function(){return dr},j1:function(){return Wt},Sh:function(){return H},rS:function(){return ne},Od:function(){return Nr}});var wa=e=>{var t={};return R.d(t,e),t},js=e=>()=>e,G=wa({default:()=>ha.default});const xe=(e,t)=>(0,G.default)(e,["attributes",t,"type"],""),J=(e,t)=>(0,G.default)(e,["attributes",...t],"");var Oa=e=>{var t={};return R.d(t,e),t},Us=e=>()=>e,n=Oa({Children:()=>j.Children,Fragment:()=>j.Fragment,cloneElement:()=>j.cloneElement,createContext:()=>j.createContext,createElement:()=>j.createElement,default:()=>j.default,useCallback:()=>j.useCallback,useContext:()=>j.useContext,useEffect:()=>j.useEffect,useLayoutEffect:()=>j.useLayoutEffect,useMemo:()=>j.useMemo,useRef:()=>j.useRef,useState:()=>j.useState}),Aa=e=>{var t={};return R.d(t,e),t},Ws=e=>()=>e,c=Aa({Alert:()=>y.Alert,BaseCheckbox:()=>y.BaseCheckbox,Box:()=>y.Box,Button:()=>y.Button,Checkbox:()=>y.Checkbox,DatePicker:()=>y.DatePicker,DateTimePicker:()=>y.DateTimePicker,Dialog:()=>y.Dialog,DialogBody:()=>y.DialogBody,DialogFooter:()=>y.DialogFooter,Dots:()=>y.Dots,EmptyStateLayout:()=>y.EmptyStateLayout,Field:()=>y.Field,FieldInput:()=>y.FieldInput,Flex:()=>y.Flex,Icon:()=>y.Icon,IconButton:()=>y.IconButton,JSONInput:()=>y.JSONInput,Loader:()=>y.Loader,NextLink:()=>y.NextLink,NumberInput:()=>y.NumberInput,Option:()=>y.Option,PageLink:()=>y.PageLink,Pagination:()=>y.Pagination,Popover:()=>y.Popover,PreviousLink:()=>y.PreviousLink,SearchForm:()=>y.SearchForm,Searchbar:()=>y.Searchbar,Select:()=>y.Select,SingleSelect:()=>y.SingleSelect,SingleSelectOption:()=>y.SingleSelectOption,Table:()=>y.Table,Tag:()=>y.Tag,Tbody:()=>y.Tbody,Td:()=>y.Td,TextInput:()=>y.TextInput,Textarea:()=>y.Textarea,Th:()=>y.Th,Thead:()=>y.Thead,TimePicker:()=>y.TimePicker,ToggleInput:()=>y.ToggleInput,Tooltip:()=>y.Tooltip,Tr:()=>y.Tr,Typography:()=>y.Typography,VisuallyHidden:()=>y.VisuallyHidden}),Fa=e=>{var t={};return R.d(t,e),t},Ys=e=>()=>e,I=Fa({CarretDown:()=>$.CarretDown,Clock:()=>$.Clock,Cross:()=>$.Cross,EmptyDocuments:()=>$.EmptyDocuments,EmptyPermissions:()=>$.EmptyPermissions,EmptyPictures:()=>$.EmptyPictures,ExclamationMarkCircle:()=>$.ExclamationMarkCircle,Eye:()=>$.Eye,EyeStriked:()=>$.EyeStriked,Minus:()=>$.Minus,Plus:()=>$.Plus,Refresh:()=>$.Refresh,Search:()=>$.Search,Trash:()=>$.Trash}),Ba=e=>{var t={};return R.d(t,e),t},zs=e=>()=>e,a=Ba({default:()=>Ea.default}),qa=e=>{var t={};return R.d(t,e),t},Vs=e=>()=>e,L=qa({useIntl:()=>ba.useIntl});const Te=({content:e,...t})=>{const{formatMessage:r}=(0,L.useIntl)();return n.default.createElement(c.EmptyStateLayout,{icon:n.default.createElement(I.ExclamationMarkCircle,{width:"10rem"}),content:r({id:e.id,defaultMessage:e.defaultMessage},e.values),...t})};Te.defaultProps={content:{id:"anErrorOccurred",defaultMessage:"Woops! Something went wrong. Please, try again.",values:{}}},Te.propTypes={content:a.default.shape({id:a.default.string,defaultMessage:a.default.string,values:a.default.object})};var Da=e=>{var t={};return R.d(t,e),t},Qs=e=>()=>e,z=Da({NavLink:()=>le.NavLink,Redirect:()=>le.Redirect,useHistory:()=>le.useHistory,useLocation:()=>le.useLocation}),$a=e=>{var t={};return R.d(t,e),t},Hs=e=>()=>e,ie=$a({Link:()=>_t.Link,LinkButton:()=>_t.LinkButton});const yt=e=>{const t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...r)=>t.current?.(...r),[])};/**
 * @preserve
 * @typedef {Object} NotificationLink
 * @property {string | import('react-intl').MessageDescriptor} label
 * @property {string | undefined} target
 * @property {string} url
 *//**
 * @preserve
 * @typedef {Object} NotificationConfig
 * @property {boolean | undefined} blockTransition
 * @property {NotificationLink} link
 * @property {string | import('react-intl').MessageDescriptor | undefined} message
 * @property {() => void | undefined} onClose
 * @property {number | undefined} timeout
 * @property {string | import('react-intl').MessageDescriptor | undefined} title
 * @property {"info" | "warning" | "softWarning" | "success" | undefined} type
 *//**
 * @preserve
 * @typedef {Object} NotificationsContextValue
 * @property {(config: NotificationConfig) => void} toggleNotification – Toggles a notification, wrapped in `useCallback` for a stable identity.
 */const Ce=n.createContext(),xt=({children:e})=>{const t=n.useRef(0),[r,o]=n.useState([]),s=n.useCallback(({type:l,message:d,link:f,timeout:m,blockTransition:g,onClose:v,title:_})=>{o(h=>[...h,{id:t.current++,type:l,message:d,link:f,timeout:m,blockTransition:g,onClose:v,title:_}])},[]),u=n.useCallback(l=>{o(d=>d.filter(f=>f.id!==l))},[]),i=n.useMemo(()=>({toggleNotification:s}),[s]);return n.createElement(Ce.Provider,{value:i},n.createElement(c.Flex,{left:"50%",marginLeft:"-250px",position:"fixed",direction:"column",alignItems:"stretch",gap:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},r.map(l=>n.createElement(ke,{key:l.id,...l,clearNotification:u}))),e)};xt.propTypes={children:a.default.node.isRequired};const ke=({id:e,clearNotification:t,message:r,link:o,type:s,onClose:u,timeout:i,blockTransition:l,title:d})=>{const{formatMessage:f}=(0,L.useIntl)(),m=yt(u),g=n.useCallback(()=>{m(),t(e)},[t,e,m]);n.useEffect(()=>{if(!l){const h=setTimeout(()=>{g()},i);return()=>{clearTimeout(h)}}},[l,g,i]);let v,_;return s==="info"?(v="default",_=f({id:"notification.default.title",defaultMessage:"Information:"})):s==="warning"?(v="danger",_=f({id:"notification.warning.title",defaultMessage:"Warning:"})):s==="softWarning"?(v="warning",_=f({id:"notification.warning.title",defaultMessage:"Warning:"})):(v="success",_=f({id:"notification.success.title",defaultMessage:"Success:"})),d&&(_=typeof d=="string"?d:f({id:d?.id||d,defaultMessage:d?.defaultMessage||d?.id||d},d?.values)),n.createElement(c.Alert,{action:o?n.createElement(ie.Link,{href:o.url,isExternal:!0},f({id:o.label?.id||o.label,defaultMessage:o.label?.defaultMessage||o.label?.id||o.label})):void 0,onClose:g,closeLabel:f({id:"global.close",defaultMessage:"Close"}),title:_,variant:v},f({id:r?.id||r,defaultMessage:r?.defaultMessage||r?.id||r},r?.values))};ke.defaultProps={blockTransition:!1,link:void 0,onClose:void 0,message:{id:"notification.success.saved",defaultMessage:"Saved"},timeout:2500,title:void 0,type:"success"},ke.propTypes={id:a.default.number.isRequired,clearNotification:a.default.func.isRequired,message:a.default.oneOfType([a.default.string,a.default.shape({id:a.default.string.isRequired,defaultMessage:a.default.string,values:a.default.object})]),link:a.default.shape({target:a.default.string,url:a.default.string.isRequired,label:a.default.oneOfType([a.default.string,a.default.shape({id:a.default.string.isRequired,defaultMessage:a.default.string,values:a.default.object})]).isRequired}),type:a.default.string,onClose:a.default.func,timeout:a.default.number,blockTransition:a.default.bool,title:a.default.oneOfType([a.default.string,a.default.shape({id:a.default.string.isRequired,defaultMessage:a.default.string,values:a.default.object})])};/**
 * @preserve
 * @description Returns an object to interact with the notification
 * system. The callbacks are wrapped in `useCallback` for a stable
 * identity.
 *
 * @returns {NotificationsContextValue}
 *
 * @example
 * ```tsx
 * import { useNotification } from '@strapi/helper-plugin';
 *
 * const MyComponent = () => {
 *  const { toggleNotification } = useNotification();
 *
 *  return <button onClick={() => toggleNotification({ message: 'Hello world!' })}>Click me</button>;
 */const Re=()=>n.useContext(Ce).toggleNotification;/**
 * @preserve
 * @typedef {Object} Permission
 * @property {string} action
 * @property {unknown[]} conditions
 * @property {number} id
 * @property {Record<string, unknown>} properties
 * @property {string} subject
 *//**
 * @preserve
 * @typedef {import('react-query').QueryObserverBaseResult<Permission[]>['refetch']} RefetchPermissionsFn
 *//**
 * @preserve
 * @typedef {Object} RBACContextValue
 * @property {Permission[]} allPermissions – The permissions of the current user.
 * @property {RefetchPermissionsFn} refetchPermissions
 *//**
 * @preserve
 * @type {React.Context<RBACContextValue>}
 */const Se=n.createContext(),Na=Se;/**
 * @preserve
 * @returns {RBACContextValue}
 */const ja=()=>n.useContext(Se),ue=ja;var Ua=e=>{var t={};return R.d(t,e),t},Xs=e=>()=>e,ce=Ua({default:()=>ya.default}),Wa=e=>{var t={};return R.d(t,e),t},Ks=e=>()=>e,Ya=Wa({default:()=>xa.default}),za=e=>{var t={};return R.d(t,e),t},Gs=e=>()=>e,Tt=za({default:()=>Ta.default}),Va=e=>{var t={};return R.d(t,e),t},Js=e=>()=>e,Le=Va({AxiosError:()=>vt.AxiosError,default:()=>vt.default}),Qa=e=>{var t={};return R.d(t,e),t},Zs=e=>()=>e,de=Qa({default:()=>be.default,parse:()=>be.parse,stringify:()=>be.stringify}),Ha=e=>{var t={};return R.d(t,e),t},el=e=>()=>e,Ct=Ha({default:()=>Ca.default});const fe="jwtToken",Ie="userInfo",kt="GUIDED_TOUR_CURRENT_STEP",Rt="GUIDED_TOUR_COMPLETED_STEPS",St="GUIDED_TOUR_SKIPPED",Lt="STRAPI_THEME",It="STRAPI_UPLOAD_MODAL_VIEW",Pt="STRAPI_UPLOAD_LIBRARY_VIEW",Pe=JSON.parse,Z=JSON.stringify,w={clear(e){return localStorage&&localStorage.getItem(e)?localStorage.removeItem(e):sessionStorage&&sessionStorage.getItem(e)?sessionStorage.removeItem(e):null},clearAppStorage(){if(localStorage){const e=w.get("videos"),t=w.get("onboarding"),r=w.get("STRAPI_UPDATE_NOTIF"),o=localStorage.getItem("strapi-admin-language"),s=w.get(kt),u=w.get(Rt),i=Pe(localStorage.getItem(St)),l=localStorage.getItem(Lt),d=localStorage.getItem(Pt),f=localStorage.getItem(It);localStorage.clear(),localStorage.setItem("videos",JSON.stringify(e)),localStorage.setItem("onboarding",t),localStorage.setItem("STRAPI_UPDATE_NOTIF",r),localStorage.setItem("strapi-admin-language",o),localStorage.setItem(kt,Z(s)),localStorage.setItem(Rt,Z(u)),localStorage.setItem(St,Z(i)),localStorage.setItem(Lt,l),!(0,Ct.default)(d)&&localStorage.setItem(Pt,d),!(0,Ct.default)(f)&&localStorage.setItem(It,f)}sessionStorage&&sessionStorage.clear()},clearToken(e=fe){return w.clear(e)},clearUserInfo(e=Ie){return w.clear(e)},get(e){return localStorage&&localStorage.getItem(e)?Pe(localStorage.getItem(e))||null:sessionStorage&&sessionStorage.getItem(e)&&Pe(sessionStorage.getItem(e))||null},getToken(e=fe){return w.get(e)},getUserInfo(e=Ie){return w.get(e)},set(e,t,r){return(0,ce.default)(e)?null:r&&localStorage?localStorage.setItem(t,Z(e)):sessionStorage?sessionStorage.setItem(t,Z(e)):null},setToken(e="",t=!1,r=fe){return w.set(e,r,t)},setUserInfo(e="",t=!1,r=Ie){return w.set(e,r,t)},updateToken(e=""){const t=localStorage&&localStorage.getItem(fe);return w.setToken(e,t)}},Xa=async e=>(e.headers={Authorization:`Bearer ${w.getToken()}`},e),Ka=e=>Promise.reject(e),Ga=e=>e,Ja=e=>{throw e?.response?.status===401&&(w.clearAppStorage(),window.location.reload()),e},Za=e=>{e.interceptors.request.use(Xa,Ka),e.interceptors.response.use(Ga,Ja)},en=()=>{const e=Le.default.create({headers:{Accept:"application/json","Content-Type":"application/json"},paramsSerializer:t=>de.default.stringify(t,{encode:!1})});return Za(e),e},ee=en(),tn=e=>typeof e=="string"&&e.charAt(0)!=="/"?`/${e}`:e,an=e=>new RegExp("^(?:[a-z+]+:)?//","i").test(e),pe=e=>an(e)?e:tn(e),Me=(e={})=>(ee.defaults.baseURL=window.strapi.backendURL,{get:(t,r)=>ee.get(pe(t),{...e,...r}),put:(t,r,o)=>ee.put(pe(t),r,{...e,...o}),post:(t,r,o)=>ee.post(pe(t),r,{...e,...o}),del:(t,r)=>ee.delete(pe(t),{...e,...r})}),Mt=(e,t)=>(0,Tt.default)(e,(r,o)=>{t.find(u=>u.action===o.action&&u.subject===o.subject)&&r.push(o)},[]),nn=e=>e.map(t=>(0,Ya.default)(t,(r,o)=>["action","subject"].includes(o)&&!(0,ce.default)(r))),rn=e=>!(0,ce.default)(e)&&e.every(t=>!(0,ce.default)(t.conditions)),we=async(e,t,r)=>{if(!t||!t.length)return!0;const o=Mt(e,t);if(rn(o)){let s=!1;try{const{data:{data:u}}=await Me().post("/admin/permissions/check",{permissions:nn(o)},{signal:r});s=u.every(i=>i===!0)}catch(u){console.error("Error while checking permissions",u)}return s}return o.length>0};var on=e=>{var t={};return R.d(t,e),t},tl=e=>()=>e,F=on({default:()=>ye.default,keyframes:()=>ye.keyframes,useTheme:()=>ye.useTheme});const sn=(0,F.default)(c.Flex)`
  height: 100vh;
`,me=({"data-testid":e,children:t})=>n.default.createElement(sn,{justifyContent:"space-around","data-testid":e},n.default.createElement(c.Loader,null,t));me.defaultProps={"data-testid":"loader",children:"Loading content."},me.propTypes={"data-testid":a.default.string,children:a.default.string};const Oe=({permissions:e,children:t})=>{const r=new AbortController,{signal:o}=r,{allPermissions:s}=ue(),u=Re(),[i,l]=(0,n.useState)({isLoading:!0,canAccess:!1}),d=(0,n.useRef)(!0);return(0,n.useEffect)(()=>((async()=>{try{l({isLoading:!0,canAccess:!1});const m=await we(s,e,o);d.current&&l({isLoading:!1,canAccess:m})}catch(m){d.current&&(console.error(m),u({type:"warning",message:{id:"notification.error"}}),l({isLoading:!1}))}})(),()=>{r.abort()}),[e]),(0,n.useEffect)(()=>()=>{d.current=!1},[]),i.isLoading?n.default.createElement(me,null):i.canAccess?t:n.default.createElement(z.Redirect,{to:"/"})};Oe.defaultProps={permissions:[]},Oe.propTypes={children:a.default.node.isRequired,permissions:a.default.array};const Ae=({permissions:e,children:t})=>{const{allPermissions:r}=ue(),o=Re(),[s,u]=(0,n.useState)({isLoading:!0,canAccess:!1}),i=(0,n.useRef)(!0),l=new AbortController,{signal:d}=l;return(0,n.useEffect)(()=>((async()=>{try{u({isLoading:!0,canAccess:!1});const m=await we(r,e,d);i.current&&u({isLoading:!1,canAccess:m})}catch(m){i.current&&(console.error(m),o({type:"warning",message:{id:"notification.error"}}),u({isLoading:!1}))}})(),()=>{l.abort()}),[e]),(0,n.useEffect)(()=>()=>{i.current=!1},[]),s.isLoading||!s.canAccess?null:t};Ae.defaultProps={permissions:[]},Ae.propTypes={children:a.default.node.isRequired,permissions:a.default.array};const te=({children:e,iconRightButton:t,isConfirmButtonLoading:r,leftButtonText:o,onConfirm:s,onToggleDialog:u,rightButtonText:i,title:l,variantRightButton:d,...f})=>{const{formatMessage:m}=(0,L.useIntl)();return n.default.createElement(c.Dialog,{onClose:u,title:m({id:l.id,defaultMessage:l.defaultMessage}),labelledBy:"confirmation",describedBy:"confirm-description",...f},n.default.createElement(c.Box,{id:"confirm-description"},e),n.default.createElement(wt,{iconRightButton:t,isConfirmButtonLoading:r,leftButtonText:o,onConfirm:s,onToggleDialog:u,rightButtonText:i,variantRightButton:d}))};te.defaultProps={iconBody:n.default.createElement(I.ExclamationMarkCircle,null),iconRightButton:n.default.createElement(I.Trash,null),isConfirmButtonLoading:!1,leftButtonText:{id:"app.components.Button.cancel",defaultMessage:"Cancel"},rightButtonText:{id:"app.components.Button.confirm",defaultMessage:"Confirm"},title:{id:"app.components.ConfirmDialog.title",defaultMessage:"Confirmation"},variantRightButton:"danger-light"},te.propTypes={children:a.default.node.isRequired,iconBody:a.default.node,iconRightButton:a.default.node,isConfirmButtonLoading:a.default.bool,onConfirm:a.default.func.isRequired,onToggleDialog:a.default.func.isRequired,leftButtonText:a.default.shape({id:a.default.string,defaultMessage:a.default.string}),rightButtonText:a.default.shape({id:a.default.string,defaultMessage:a.default.string}),title:a.default.shape({id:a.default.string,defaultMessage:a.default.string}),variantRightButton:a.default.string};const ae=({iconBody:e,children:t})=>n.default.createElement(c.DialogBody,{icon:e},n.default.createElement(c.Flex,{direction:"column",alignItems:"stretch",gap:2},n.default.createElement(c.Flex,{justifyContent:"center"},t)));ae.defaultProps={iconBody:n.default.createElement(I.ExclamationMarkCircle,null)},ae.propTypes={children:a.default.node.isRequired,iconBody:a.default.node};const wt=({iconRightButton:e,isConfirmButtonLoading:t,leftButtonText:r,onConfirm:o,onToggleDialog:s,rightButtonText:u,variantRightButton:i})=>{const{formatMessage:l}=(0,L.useIntl)();return n.default.createElement(c.DialogFooter,{startAction:n.default.createElement(c.Button,{onClick:s,variant:"tertiary"},l({id:r.id,defaultMessage:r.defaultMessage})),endAction:n.default.createElement(c.Button,{onClick:o,variant:i,startIcon:e,id:"confirm-delete",loading:t},l({id:u.id,defaultMessage:u.defaultMessage}))})};wt.propTypes={iconRightButton:a.default.node.isRequired,isConfirmButtonLoading:a.default.bool.isRequired,onConfirm:a.default.func.isRequired,onToggleDialog:a.default.func.isRequired,leftButtonText:a.default.shape({id:a.default.string,defaultMessage:a.default.string}).isRequired,rightButtonText:a.default.shape({id:a.default.string,defaultMessage:a.default.string}).isRequired,variantRightButton:a.default.string.isRequired};const Q=({bodyText:e,onToggleDialog:t,onConfirm:r,title:o,...s})=>{const{formatMessage:u}=(0,L.useIntl)();return n.default.createElement(te,{onConfirm:r,onToggleDialog:t,title:o,...s},n.default.createElement(ae,null,n.default.createElement(c.Typography,{variant:"omega"},u({id:e.id,defaultMessage:e.defaultMessage}))))};Q.defaultProps={bodyText:{id:"components.popUpWarning.message",defaultMessage:"Are you sure you want to delete this?"},iconBody:n.default.createElement(I.ExclamationMarkCircle,null),iconRightButton:n.default.createElement(I.Trash,null),isConfirmButtonLoading:!1,leftButtonText:{id:"app.components.Button.cancel",defaultMessage:"Cancel"},rightButtonText:{id:"app.components.Button.confirm",defaultMessage:"Confirm"},title:{id:"app.components.ConfirmDialog.title",defaultMessage:"Confirmation"},variantRightButton:"danger-light"},Q.propTypes={bodyText:a.default.shape({id:a.default.string,defaultMessage:a.default.string}),iconBody:a.default.node,iconRightButton:a.default.node,isConfirmButtonLoading:a.default.bool,onConfirm:a.default.func.isRequired,onToggleDialog:a.default.func.isRequired,leftButtonText:a.default.shape({id:a.default.string,defaultMessage:a.default.string}),rightButtonText:a.default.shape({id:a.default.string,defaultMessage:a.default.string}),title:a.default.shape({id:a.default.string,defaultMessage:a.default.string}),variantRightButton:a.default.string},Q.Root=te,Q.Body=ae;const ln=(0,F.default)(c.Flex)`
  margin-right: ${({theme:e})=>e.spaces[6]};

  svg {
    width: ${32/16}rem;
    height: ${32/16}rem;
  }
`,un=(0,F.default)(c.Typography)`
  word-break: break-all;
`,Fe=({title:e,subtitle:t,icon:r,iconBackground:o,endAction:s,titleEllipsis:u})=>(e.length>70&&u&&(e=`${e.substring(0,70)}...`),n.default.createElement(c.Flex,{shadow:"tableShadow",hasRadius:!0,padding:6,background:"neutral0"},n.default.createElement(ln,{background:o,hasRadius:!0,padding:3},r),n.default.createElement(c.Flex,{direction:"column",alignItems:"stretch",gap:s?0:1},n.default.createElement(c.Flex,null,n.default.createElement(un,{fontWeight:"semiBold",variant:"pi"},e),s),n.default.createElement(c.Typography,{textColor:"neutral600"},t))));Fe.defaultProps={titleEllipsis:!1,title:void 0,subtitle:void 0,icon:void 0,iconBackground:void 0,endAction:void 0},Fe.propTypes={titleEllipsis:a.default.bool,title:a.default.string,subtitle:a.default.string,icon:a.default.node,iconBackground:a.default.string,endAction:a.default.node};const cn=e=>((0,n.useEffect)(()=>{},[]),n.default.createElement(c.DateTimePicker,{...e}));/**
 * @preserve
 * @typedef {Object} AppInfoContextValue
 * @property {boolean | undefined} autoReload
 * @property {boolean | undefined} communityEdition
 * @property {string | undefined} currentEnvironment
 * @property {Record<string, string>} dependencies
 * @property {string | null} latestStrapiReleaseTag
 * @property {string | undefined} nodeVersion
 * @property {string | undefined} projectId
 * @property {(name: string) => void} setUserDisplayName
 * @property {boolean} shouldUpdateStrapi
 * @property {string | undefined} strapiVersion
 * @property {boolean | undefined} useYarn
 * @property {string} userDisplayName
 * @property {string | null} userId
 *
 *//**
 * @preserve
 * @type {React.Context<AppInfoContextValue>}
 */const ge=n.createContext(),_e=({children:e,autoReload:t,communityEdition:r,currentEnvironment:o,dependencies:s,latestStrapiReleaseTag:u,nodeVersion:i,projectId:l,setUserDisplayName:d,shouldUpdateStrapi:f,strapiVersion:m,useYarn:g,userDisplayName:v,userId:_})=>{const h=n.useMemo(()=>({autoReload:t,communityEdition:r,currentEnvironment:o,dependencies:s,latestStrapiReleaseTag:u,nodeVersion:i,projectId:l,setUserDisplayName:d,shouldUpdateStrapi:f,strapiVersion:m,useYarn:g,userDisplayName:v,userId:_}),[t,r,o,s,u,i,l,d,f,m,g,v,_]);return n.createElement(ge.Provider,{value:h},e)};_e.defaultProps={autoReload:void 0,communityEdition:void 0,currentEnvironment:void 0,dependencies:void 0,latestStrapiReleaseTag:void 0,nodeVersion:void 0,projectId:void 0,strapiVersion:void 0,useYarn:void 0,userId:null},_e.propTypes={children:a.default.node.isRequired,autoReload:a.default.bool,communityEdition:a.default.bool,currentEnvironment:a.default.string,dependencies:a.default.object,latestStrapiReleaseTag:a.default.string,nodeVersion:a.default.string,projectId:a.default.string,setUserDisplayName:a.default.func.isRequired,shouldUpdateStrapi:a.default.bool.isRequired,strapiVersion:a.default.string,useYarn:a.default.bool,userDisplayName:a.default.string.isRequired,userId:a.default.string};/**
 * @preserve
 * @returns {AppInfoContextValue}
 */const Be=()=>n.useContext(ge);/**
 * @preserve
 * @deprecated use useAppInfo instead
 */const dn=Be;/**
 * @preserve
 * @deprecated use AppInfoProvider instead
 */const fn=_e;/**
 * @preserve
 * @deprecated use AppInfoContext instead
 */const pn=ge;/**
 * @preserve
 * @typedef {Object} TelemetryProperties
 * @property {boolean} useTypescriptOnServer
 * @property {boolean} useTypescriptOnAdmin
 * @property {boolean} isHostedOnStrapiCloud
 * @property {number} numberOfAllContentTypes
 * @property {number} numberOfComponents
 * @property {number} numberOfDynamicZones
 *//**
 * @preserve
 * @typedef {Object} TrackingContextValue
 * @property {string | boolean} uuid
 * @property {string | undefined} deviceId
 * @property {TelemetryProperties | undefined} telemetryProperties
 *//**
 * @preserve
 * @type {React.Context<TrackingContextValue>}
 */const qe=n.createContext({uuid:!1,deviceId:void 0,telemetryProperties:void 0}),De=({value:e,children:t})=>{const r=n.useMemo(()=>e,[e]);return n.createElement(qe.Provider,{value:r},t)};De.propTypes={children:a.default.node.isRequired,value:a.default.shape({uuid:a.default.oneOfType([a.default.string,a.default.bool]),deviceId:a.default.string,telemetryProperties:a.default.object})},De.defaultProps={value:{deviceId:void 0,uuid:!1,telemetryProperties:void 0}};/**
 * @preserve
 * @typedef {(event: string, properties: Record<string, any>) => Promise<void>} TrackUsageFn
 *//**
 * @preserve
 * @description Used to send amplitude events to the Strapi Tracking hub.
 *
 * @returns {{trackUsage: TrackUsageFn}}
 *
 * @example
 * ```tsx
 * import { useTracking } from '@strapi/helper-plugin';
 *
 * const MyComponent = () => {
 *  const { trackUsage } = useTracking();
 *
 *  const handleClick = () => {
 *   trackUsage('my-event', { myProperty: 'myValue' });
 *  }
 *
 *  return <button onClick={handleClick}>Send Event</button>
 * }
 * ```
 */const ne=()=>{const{uuid:e,telemetryProperties:t,deviceId:r}=n.useContext(qe),s=Be()?.userId;return{trackUsage:n.useCallback(async(i,l)=>{try{if(e&&!window.strapi.telemetryDisabled)return await Le.default.post("https://analytics.strapi.io/api/v2/track",{event:i,userId:s,deviceId:r,eventProperties:{...l},userProperties:{},groupProperties:{...t,projectId:e,projectType:window.strapi.projectType}},{headers:{"Content-Type":"application/json","X-Strapi-Event":i}})}catch{}return null},[r,t,s,e])}},V=e=>{const{search:t}=(0,z.useLocation)(),{push:r}=(0,z.useHistory)(),o=(0,n.useMemo)(()=>{const u=t.substring(1);return t?(0,de.parse)(u):e},[t,e]),s=(0,n.useCallback)((u,i="push")=>{let l={...o};i==="remove"?Object.keys(u).forEach(d=>{delete l[d]}):l={...o,...u},r({search:(0,de.stringify)(l,{encode:!1})})},[r,o]);return[{query:o,rawQuery:t},s]},mn={isUp:!0},re=(0,F.default)(I.CarretDown).withConfig({shouldForwardProp:(e,t)=>!mn[e]&&t(e)})`
  transform: ${({isUp:e})=>`rotate(${e?"180":"0"}deg)`};
`;re.defaultProps={isUp:!1},re.propTypes={isUp:a.default.bool};const gn={document:I.EmptyDocuments,media:I.EmptyPictures,permissions:I.EmptyPermissions},oe=({action:e,content:t,hasRadius:r,icon:o,shadow:s})=>{const u=gn[o],{formatMessage:i}=(0,L.useIntl)();return n.default.createElement(c.EmptyStateLayout,{action:e,content:i({id:t.id,defaultMessage:t.defaultMessage},t.values),hasRadius:r,icon:n.default.createElement(u,{width:"10rem"}),shadow:s})};oe.defaultProps={action:void 0,content:{id:"app.components.EmptyStateLayout.content-document",defaultMessage:"No content found",values:{}},hasRadius:!0,icon:"document",shadow:"tableShadow"},oe.propTypes={action:a.default.any,content:a.default.shape({id:a.default.string,defaultMessage:a.default.string,values:a.default.object}),hasRadius:a.default.bool,icon:a.default.oneOf(["document","media","permissions"]),shadow:a.default.string};const ve=({colSpan:e,isLoading:t,...r})=>t?n.default.createElement(c.Tbody,null,n.default.createElement(c.Tr,null,n.default.createElement(c.Td,{colSpan:e},n.default.createElement(c.Flex,{justifyContent:"center"},n.default.createElement(c.Box,{padding:11,background:"neutral0"},n.default.createElement(c.Loader,null,"Loading content...")))))):n.default.createElement(c.Tbody,null,n.default.createElement(c.Tr,null,n.default.createElement(c.Td,{colSpan:e},n.default.createElement(oe,{...r,hasRadius:!1,shadow:""}))));ve.defaultProps={action:void 0,colSpan:1,content:void 0,icon:void 0,isLoading:!1},ve.propTypes={action:a.default.any,colSpan:a.default.number,content:a.default.shape({id:a.default.string,defaultMessage:a.default.string,values:a.default.object}),icon:a.default.oneOf(["document","media","permissions"]),isLoading:a.default.bool};const $e=({action:e,children:t,contentType:r,components:o,footer:s,headers:u,isLoading:i,onConfirmDeleteAll:l,onConfirmDelete:d,onOpenDeleteAllModalTrackedEvent:f,rows:m,withBulkActions:g,withMainAction:v,renderBulkActionsBar:_,...h})=>{const[x,E]=(0,n.useState)([]),[S,C]=(0,n.useState)(!1),[b,M]=(0,n.useState)(!1),[O,k]=(0,n.useState)(!1),[{query:N}]=V(),{formatMessage:P}=(0,L.useIntl)(),{trackUsage:Y}=ne(),he=m.length+1,A=u.length+(g?1:0)+(v?1:0),B=N?.filters!==void 0,W=x.length===m.length&&m.length>0,T=B?{id:"content-manager.components.TableEmpty.withFilters",defaultMessage:"There are no {contentType} with the applied filters...",values:{contentType:r}}:void 0,q=async()=>{try{k(!0),await l(x),X(),E([]),k(!1)}catch{k(!1),X()}},K=async()=>{try{k(!0),await d(x[0]),se(),k(!1)}catch{k(!1),se()}},Ee=()=>{E(W?[]:m.map(D=>D.id))},X=()=>{!S&&f&&Y(f),C(D=>!D)},se=()=>{b&&E([]),M(D=>!D)},da=D=>{E([D]),se()},fa=({name:D,value:_a})=>{E(gt=>_a?gt.concat(D):gt.filter(va=>va!==D))},pa=()=>{E([])},ma=o?.ConfirmDialogDeleteAll?o.ConfirmDialogDeleteAll:Q,ga=o?.ConfirmDialogDelete?o.ConfirmDialogDelete:Q;return n.default.createElement(n.default.Fragment,null,x.length>0&&n.default.createElement(c.Flex,{gap:3},n.default.createElement(c.Typography,{variant:"omega",textColor:"neutral500"},P({id:"content-manager.components.TableDelete.label",defaultMessage:"{number, plural, one {# entry} other {# entries}} selected"},{number:x.length})),_?_({selectedEntries:x,clearSelectedEntries:pa}):n.default.createElement(c.Button,{onClick:X,startIcon:n.default.createElement(I.Trash,null),size:"L",variant:"danger-light"},P({id:"global.delete",defaultMessage:"Delete"}))),n.default.createElement(c.Table,{colCount:A,rowCount:he,footer:s},n.default.createElement(Ne,{areAllEntriesSelected:W,entriesToDelete:x,headers:u,onSelectAll:Ee,withMainAction:v,withBulkActions:g}),!m.length||i?n.default.createElement(ve,{colSpan:A,content:T,isLoading:i,action:e}):n.Children.toArray(t).map(D=>(0,n.cloneElement)(D,{entriesToDelete:x,onClickDelete:da,onSelectRow:fa,headers:u,rows:m,withBulkActions:g,withMainAction:v,...h}))),n.default.createElement(ma,{isConfirmButtonLoading:O,onConfirm:q,onToggleDialog:X,isOpen:S}),n.default.createElement(ga,{isConfirmButtonLoading:O,onConfirm:K,onToggleDialog:se,isOpen:b}))};$e.defaultProps={action:void 0,children:void 0,components:{ConfirmDialogDeleteAll:void 0,ConfirmDialogDelete:void 0},footer:void 0,headers:[],isLoading:!1,onConfirmDeleteAll(){},onConfirmDelete(){},onOpenDeleteAllModalTrackedEvent:void 0,rows:[],withBulkActions:!1,withMainAction:!1,renderBulkActionsBar:void 0},$e.propTypes={action:a.default.node,children:a.default.node,contentType:a.default.string.isRequired,components:a.default.shape({ConfirmDialogDelete:a.default.oneOfType([a.default.func,a.default.element]),ConfirmDialogDeleteAll:a.default.oneOfType([a.default.func,a.default.element])}),footer:a.default.node,headers:a.default.arrayOf(a.default.shape({cellFormatter:a.default.func,key:a.default.string.isRequired,metadatas:a.default.shape({label:a.default.string.isRequired,sortable:a.default.bool}).isRequired,name:a.default.string.isRequired})),isLoading:a.default.bool,onConfirmDeleteAll:a.default.func,onConfirmDelete:a.default.func,onOpenDeleteAllModalTrackedEvent:a.default.string,rows:a.default.array,withBulkActions:a.default.bool,withMainAction:a.default.bool,renderBulkActionsBar:a.default.func};const Ne=({areAllEntriesSelected:e,entriesToDelete:t,headers:r,onSelectAll:o,withMainAction:s,withBulkActions:u})=>{const{formatMessage:i}=(0,L.useIntl)(),[{query:l},d]=V(),f=l?.sort||"",[m,g]=f.split(":"),v=!e&&t.length>0;return n.default.createElement(c.Thead,null,n.default.createElement(c.Tr,null,s&&n.default.createElement(c.Th,null,n.default.createElement(c.BaseCheckbox,{"aria-label":i({id:"global.select-all-entries",defaultMessage:"Select all entries"}),checked:e,indeterminate:v,onChange:o})),r.map(({fieldSchema:_,name:h,metadatas:{sortable:x,label:E,mainField:S}})=>{let C=m===h;const b=g==="ASC";_?.type==="relation"&&S&&(C=m===`${h.split(".")[0]}[${S.name}]`);const M=i({id:"components.TableHeader.sort",defaultMessage:"Sort on {label}"},{label:E}),O=(k=!0)=>{if(x&&k){let N=h;_?.type==="relation"&&S&&(N=`${h.split(".")[0]}[${S.name}]`),d({sort:`${N}:${C&&g==="ASC"?"DESC":"ASC"}`})}};return n.default.createElement(c.Th,{key:h,action:C&&n.default.createElement(c.IconButton,{label:M,onClick:O,icon:C&&n.default.createElement(re,{isUp:b}),noBorder:!0})},n.default.createElement(c.Tooltip,{label:x?M:E},n.default.createElement(c.Typography,{textColor:"neutral600",as:!C&&x?"button":"span",label:E,onClick:()=>O(!C),variant:"sigma"},E)))}),u&&n.default.createElement(c.Th,null,n.default.createElement(c.VisuallyHidden,null,i({id:"global.actions",defaultMessage:"Actions"})))))};Ne.defaultProps={areAllEntriesSelected:!1,entriesToDelete:[],headers:[],withBulkActions:!1,withMainAction:!1},Ne.propTypes={areAllEntriesSelected:a.default.bool,entriesToDelete:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.number])),headers:a.default.array,onSelectAll:a.default.func.isRequired,withBulkActions:a.default.bool,withMainAction:a.default.bool};const Ot=n.createContext(null),H=()=>{const e=n.useContext(Ot);if(!e)throw new Error("useTableContext must be used within a TableProvider");return e},At=({children:e})=>{const{formatMessage:t}=(0,L.useIntl)(),{selectedEntries:r}=H();return r.length===0?null:n.createElement(c.Flex,{gap:2},n.createElement(c.Typography,{variant:"omega",textColor:"neutral500"},t({id:"content-manager.components.TableDelete.label",defaultMessage:"{number, plural, one {# entry} other {# entries}} selected"},{number:r.length})),e)};At.propTypes={children:a.default.node.isRequired};const Ft=({onConfirmDeleteAll:e})=>{const{selectedEntries:t,setSelectedEntries:r}=H(),{formatMessage:o}=(0,L.useIntl)(),[s,u]=n.useState(!1),[i,l]=n.useState(!1),d=async()=>{try{l(!0),await e(t),l(!1),f(),r([])}catch{l(!1),f()}},f=()=>{u(m=>!m)};return n.createElement(n.Fragment,null,n.createElement(c.Button,{onClick:f,startIcon:n.createElement(I.Trash,null),size:"L",variant:"danger-light"},o({id:"global.delete",defaultMessage:"Delete"})),n.createElement(Q,{isConfirmButtonLoading:i,onConfirm:d,onToggleDialog:f,isOpen:s}))};Ft.propTypes={onConfirmDeleteAll:a.default.func.isRequired};const Bt=({children:e})=>n.createElement(c.Thead,null,n.createElement(c.Tr,null,e));Bt.propTypes={children:a.default.node.isRequired};const _n=()=>{const{selectedEntries:e,setSelectedEntries:t,rows:r}=H(),{formatMessage:o}=(0,L.useIntl)(),s=e.length===r.length&&r.length>0,u=!s&&e.length>0,i=()=>{t(s?[]:r.map(l=>l.id))};return r.length===0?null:n.createElement(c.Th,null,n.createElement(c.BaseCheckbox,{"aria-label":o({id:"global.select-all-entries",defaultMessage:"Select all entries"}),checked:s,indeterminate:u,onChange:i}))},vn=()=>{const{formatMessage:e}=(0,L.useIntl)();return n.createElement(c.Th,null,n.createElement(c.VisuallyHidden,null,e({id:"global.actions",defaultMessage:"Actions"})))},je=({fieldSchemaType:e,name:t,relationFieldName:r,isSortable:o,label:s})=>{const[{query:u},i]=V(),l=u?.sort||"",[d,f]=l.split(":"),{formatMessage:m}=(0,L.useIntl)();let g=d===t;const v=f==="ASC";e==="relation"&&r&&(g=d===`${t.split(".")[0]}[${r}]`);const _=m({id:"components.TableHeader.sort",defaultMessage:"Sort on {label}"},{label:s}),h=(x=!0)=>{if(o&&x){let E=t;e==="relation"&&r&&(E=`${t.split(".")[0]}[${r}]`),i({sort:`${E}:${g&&f==="ASC"?"DESC":"ASC"}`})}};return n.createElement(c.Th,{key:t,action:g&&o&&n.createElement(c.IconButton,{label:_,onClick:h,icon:n.createElement(re,{isUp:v}),noBorder:!0})},n.createElement(c.Tooltip,{label:o?_:s},n.createElement(c.Typography,{textColor:"neutral600",as:!g&&o?"button":"span",label:s,onClick:()=>h(),variant:"sigma"},s)))};je.defaultProps={isSortable:!1,relationFieldName:null},je.propTypes={name:a.default.string.isRequired,fieldSchemaType:a.default.string.isRequired,relationFieldName:a.default.string,isSortable:a.default.bool,label:a.default.string.isRequired};const Ue=({children:e,defaultSelectedEntries:t,rows:r,colCount:o,isLoading:s,isFetching:u})=>{const[i,l]=n.useState(t),d=r.length+1,f=n.useCallback(({name:g,value:v})=>{l(_=>v?_.concat(g):_.filter(h=>h!==g))},[]),m=n.useMemo(()=>({selectedEntries:i,setSelectedEntries:l,onSelectRow:f,rows:r,isLoading:s,isFetching:u,colCount:o,rowCount:d}),[f,i,l,r,s,u,o,d]);return n.createElement(Ot.Provider,{value:m},e)};Ue.defaultProps={rows:[],defaultSelectedEntries:[],isLoading:!1,isFetching:!1,colCount:0},Ue.propTypes={children:a.default.node.isRequired,rows:a.default.arrayOf(a.default.object),defaultSelectedEntries:a.default.arrayOf(a.default.number),colCount:a.default.number,isLoading:a.default.bool,isFetching:a.default.bool};const We=({contentType:e,...t})=>{const{rows:r,colCount:o,isLoading:s}=H(),[{query:u}]=V(),l=u?.filters!==void 0?{id:"content-manager.components.TableEmpty.withFilters",defaultMessage:"There are no {contentType} with the applied filters...",values:{contentType:e}}:void 0;return r?.length>0||s?null:n.createElement(c.Tbody,null,n.createElement(c.Tr,null,n.createElement(c.Td,{colSpan:o},n.createElement(oe,{...t,content:l,hasRadius:!1,shadow:""}))))};We.defaultProps={action:void 0,icon:void 0},We.propTypes={action:a.default.any,icon:a.default.oneOf(["document","media","permissions"]),contentType:a.default.string.isRequired};const hn=()=>{const{isLoading:e,colCount:t}=H();return e?n.createElement(c.Tbody,null,n.createElement(c.Tr,null,n.createElement(c.Td,{colSpan:t},n.createElement(c.Flex,{justifyContent:"center"},n.createElement(c.Box,{padding:11,background:"neutral0"},n.createElement(c.Loader,null,"Loading content")))))):null},qt=({children:e})=>{const{rows:t,isLoading:r}=H();return r||t.length===0?null:n.createElement(c.Tbody,null,e)};qt.propTypes={children:a.default.node.isRequired};const Ye=({children:e,footer:t})=>{const{rowCount:r,colCount:o}=H();return n.createElement(c.Table,{rowCount:r,colCount:o,footer:t},e)};Ye.defaultProps={footer:null},Ye.propTypes={footer:a.default.node,children:a.default.node.isRequired};const En={Content:Ye,Root:Ue,Body:qt,ActionBar:At,Head:Bt,HeaderCell:je,HeaderHiddenActionsCell:vn,HeaderCheckboxCell:_n,LoadingBody:hn,EmptyBody:We,BulkDeleteButton:Ft},ze=({filtersSchema:e})=>{const[{query:t},r]=V(),o=s=>{const u=t.filters.$and.filter(i=>{const l=Object.keys(s)[0],d=Object.keys(s[l])[0],f=s[l][d];return i[l]?.[d]!==f});r({filters:{$and:u},page:1})};return t?.filters?.$and.map((s,u)=>{const i=Object.keys(s)[0],l=e.find(({name:g})=>g===i);if(!l)return null;if(l.fieldSchema.type==="relation"){const g=l.fieldSchema.mainField.name,v=s[i][g],_=Object.keys(v)[0],h=v[_];return n.default.createElement(Ve,{key:`${i}-${u}`,attribute:l,filter:s,onClick:o,operator:_,value:h})}const d=s[i],f=Object.keys(d)[0],m=d[f];return n.default.createElement(Ve,{key:`${i}-${u}`,attribute:l,filter:s,onClick:o,operator:f,value:m})})||null};ze.defaultProps={filtersSchema:[]},ze.propTypes={filtersSchema:a.default.arrayOf(a.default.shape({name:a.default.string.isRequired,metadatas:a.default.shape({label:a.default.string}),fieldSchema:a.default.shape({type:a.default.string,mainField:a.default.shape({name:a.default.string,type:a.default.string})})}))};const Ve=({attribute:e,filter:t,onClick:r,operator:o,value:s})=>{const{formatMessage:u,formatDate:i,formatTime:l,formatNumber:d}=(0,L.useIntl)(),f=()=>{r(t)},{fieldSchema:m}=e,g=m?.mainField?.schema?.type||m.type;let v=s;if(g==="date"&&(v=i(s,{dateStyle:"full"})),g==="datetime"&&(v=i(s,{dateStyle:"full",timeStyle:"short"})),g==="time"){const[h,x]=s.split(":"),E=new Date;E.setHours(h),E.setMinutes(x),v=l(E,{numeric:"auto",style:"short"})}["float","integer","biginteger","decimal"].includes(g)&&(v=d(s)),e.metadatas.customInput&&e.metadatas.options&&(v=e.metadatas.options.find(x=>x.customValue===s)?.label||s);const _=`${e.metadatas.label||e.name} ${u({id:`components.FilterOptions.FILTER_TYPES.${o}`,defaultMessage:o})} ${o!=="$null"&&o!=="$notNull"?v:""}`;return n.default.createElement(c.Box,{padding:1},n.default.createElement(c.Tag,{onClick:f,icon:n.default.createElement(I.Cross,null)},_))};Ve.propTypes={attribute:a.default.shape({name:a.default.string.isRequired,fieldSchema:a.default.object.isRequired,metadatas:a.default.shape({label:a.default.string.isRequired,options:a.default.array,customInput:a.default.func}).isRequired}).isRequired,filter:a.default.object.isRequired,onClick:a.default.func.isRequired,operator:a.default.string.isRequired,value:a.default.string.isRequired};var bn=e=>{var t={};return R.d(t,e),t},al=e=>()=>e,Dt=bn({default:()=>ka.default});const Qe=({displayedFilters:e,isVisible:t,onBlur:r,onToggle:o,source:s})=>{const[{query:u},i]=V(),{formatMessage:l}=(0,L.useIntl)(),{trackUsage:d}=ne(),f={fieldSchema:{type:"string"}},[m,g]=(0,n.useState)({name:e[0]?.name||"",filter:Xe(e[0]||f)[0].value,value:""});if(!t||e.length===0)return null;const v=b=>{const M=e.find(Y=>Y.name===b),{fieldSchema:{type:O,options:k}}=M;let N="";O==="boolean"&&(N="true"),O==="enumeration"&&(N=k?.[0]);const P=Xe(M)[0].value;g({name:b,filter:P,value:N})},_=b=>{b.preventDefault();const M=u?.filters?.$and.find(O=>O[m.name]&&O[m.name]?.[m.filter]===m.value)!==void 0;if(m.value&&!M){let O={[m.name]:{[m.filter]:m.value}};const k=e.find(({name:Y})=>Y===m.name),N=k.fieldSchema.type;k.trackedEvent&&d(k.trackedEvent.name,k.trackedEvent.properties),N==="relation"&&(O={[m.name]:{[k.fieldSchema.mainField.name]:{[m.filter]:m.value}}});const P=[...u?.filters?.$and||[],O];i({filters:{$and:P},page:1})}o()},h=b=>{if(b==="$null"||b==="$notNull"){g(M=>({...M,value:"true",filter:b}));return}g(M=>({...M,filter:b,value:""}))},x=e.find(b=>b.name===m.name),E=m.filter,S=x.metadatas.customOperators||Xe(x),C=x.metadatas.customInput||He;return n.default.createElement(c.Popover,{source:s,onDismiss:o,padding:3,spacing:4,onBlur:r},n.default.createElement("form",{onSubmit:_},n.default.createElement(c.Flex,{direction:"column",alignItems:"stretch",gap:1,style:{minWidth:184}},n.default.createElement(yn,{direction:"column",alignItems:"stretch",gap:1},n.default.createElement(c.Select,{label:l({id:"app.utils.select-field",defaultMessage:"Select field"}),name:"name",size:"M",onChange:v,value:m.name},e.map(b=>n.default.createElement(c.Option,{key:b.name,value:b.name},b.metadatas.label))),n.default.createElement(c.Select,{label:l({id:"app.utils.select-filter",defaultMessage:"Select filter"}),name:"filter",size:"M",value:m.filter,onChange:h},S.map(b=>n.default.createElement(c.Option,{key:b.value,value:b.value},l(b.intlLabel))))),E!=="$null"&&E!=="$notNull"&&n.default.createElement(c.Box,null,n.default.createElement(C,{...x.metadatas,...x.fieldSchema,value:m.value,onChange:b=>g(M=>({...M,value:b}))})),n.default.createElement(c.Box,null,n.default.createElement(c.Button,{size:"L",variant:"secondary",startIcon:n.default.createElement(I.Plus,null),type:"submit",fullWidth:!0},l({id:"app.utils.add-filter",defaultMessage:"Add filter"}))))))};Qe.defaultProps={onBlur:void 0},Qe.propTypes={displayedFilters:a.default.arrayOf(a.default.shape({name:a.default.string.isRequired,metadatas:a.default.shape({label:a.default.string}),fieldSchema:a.default.shape({type:a.default.string}),trackedEvent:a.default.shape({name:a.default.string.isRequired,properties:a.default.object})})).isRequired,isVisible:a.default.bool.isRequired,onBlur:a.default.func,onToggle:a.default.func.isRequired,source:a.default.shape({current:a.default.instanceOf(Element)}).isRequired};const yn=(0,F.default)(c.Flex)`
  /* Hide the label, every input needs a label. */
  label {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
`,He=({label:e,onChange:t,options:r,type:o,value:s})=>{const{formatMessage:u}=(0,L.useIntl)();return o==="boolean"?n.default.createElement(c.Select,{"aria-label":e,onChange:t,value:s},n.default.createElement(c.Option,{value:"true"},"true"),n.default.createElement(c.Option,{value:"false"},"false")):o==="date"?n.default.createElement(c.DatePicker,{clearLabel:u({id:"clearLabel",defaultMessage:"Clear"}),ariaLabel:e,name:"datepicker",onChange:i=>t((0,Dt.default)(i,{representation:"date"})),onClear:()=>t(null),selectedDate:s?new Date(s):void 0,selectedDateLabel:i=>`Date picker, current is ${i}`}):o==="datetime"?n.default.createElement(c.DateTimePicker,{clearLabel:u({id:"clearLabel",defaultMessage:"Clear"}),ariaLabel:e,name:"datetimepicker",onChange:i=>t(i?i.toISOString():null),onClear:()=>t(null),value:s?new Date(s):void 0,selectedDateLabel:i=>`Date picker, current is ${i}`,selectButtonTitle:u({id:"selectButtonTitle",defaultMessage:"Select"})}):o==="enumeration"?n.default.createElement(c.Select,{"aria-label":e,onChange:t,value:s},r.map(i=>n.default.createElement(c.Option,{key:i,value:i},i))):["float","integer","biginteger","decimal"].includes(o)?n.default.createElement(c.NumberInput,{"aria-label":e,name:"filter-value",onValueChange:t,value:s||0}):o==="time"?n.default.createElement(c.TimePicker,{"aria-label":e,onClear:()=>t(""),onChange:t,value:s,clearLabel:"Clear the selected time picker value"}):n.default.createElement(c.Field,null,n.default.createElement(c.FieldInput,{"aria-label":u({id:"app.utils.filter-value",defaultMessage:"Filter value"}),onChange:({target:{value:i}})=>t(i),value:s,size:"M"}))};He.defaultProps={label:"",options:[],value:""},He.propTypes={label:a.default.string,onChange:a.default.func.isRequired,options:a.default.arrayOf(a.default.string),type:a.default.string.isRequired,value:a.default.any};const Xe=({fieldSchema:{type:e,mainField:t}})=>{switch(t?.schema?.type??e){case"email":case"text":case"enumeration":case"string":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eqi",defaultMessage:"is (case insensitive)"},value:"$eqi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$nei",defaultMessage:"is not (case insensitive)"},value:"$nei"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$contains",defaultMessage:"contains"},value:"$contains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$containsi",defaultMessage:"contains (case insensitive)"},value:"$containsi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContains",defaultMessage:"not contains"},value:"$notContains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContainsi",defaultMessage:"not contains (case insensitive)"},value:"$notContainsi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$startsWith",defaultMessage:"starts with"},value:"$startsWith"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$startsWithi",defaultMessage:"starts with (case insensitive)"},value:"$startsWithi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$endsWith",defaultMessage:"ends with"},value:"$endsWith"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$endsWithi",defaultMessage:"ends with (case insensitive)"},value:"$endsWithi"}];case"float":case"integer":case"biginteger":case"decimal":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];case"time":case"date":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$contains",defaultMessage:"contains (sensitive)"},value:"$contains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContains",defaultMessage:"not contains (sensitive)"},value:"$notContains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];case"datetime":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];default:return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eqi",defaultMessage:"is (case insensitive)"},value:"$eqi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"}]}};var xn=e=>{var t={};return R.d(t,e),t},nl=e=>()=>e,$t=xn({Form:()=>ht.Form,useFormikContext:()=>ht.useFormikContext});const Tn=e=>{const t=(0,n.useRef)(null),{isSubmitting:r,isValidating:o,errors:s,touched:u}=(0,$t.useFormikContext)();return(0,n.useEffect)(()=>{if(r&&!o){const i=t.current.querySelectorAll("[data-strapi-field-error]");if(i.length>0){const d=i[0].getAttribute("id"),f=t.current.querySelector(`[aria-describedby="${d}"]`);f&&f.focus()}}if(!r&&!o&&Object.keys(s).length){const i=document.getElementById("global-form-error");i&&i.focus()}},[s,r,o,u]),n.default.createElement($t.Form,{ref:t,...e,noValidate:!0})},Cn=({description:e,fieldSchema:t,type:r})=>{const{formatMessage:o}=(0,L.useIntl)(),s=()=>e?.id?o({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"";return{hint:(()=>{const{maximum:i,minimum:l}=Rn(t),d=kn({type:r,minimum:l,maximum:i}),f=typeof l=="number",m=typeof i=="number",g=m&&f,v=m||f;return!e?.id&&!v?"":o({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:l,max:i,description:s(),unit:d?.message&&v?o(d.message,d.values):null,divider:g?o({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:v?n.default.createElement("br",null):null})})()}},kn=({type:e,minimum:t,maximum:r})=>{if(["biginteger","integer","number"].includes(e))return{};const o=Math.max(t||0,r||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:o}}},Rn=e=>{if(!e)return{maximum:void 0,minimum:void 0};const{minLength:t,maxLength:r,max:o,min:s}=e;let u,i;const l=parseInt(s,10),d=parseInt(t,10);Number.isNaN(l)?Number.isNaN(d)||(u=d):u=l;const f=parseInt(o,10),m=parseInt(r,10);return Number.isNaN(f)?Number.isNaN(m)||(i=m):i=f,{maximum:i,minimum:u}},Nt=()=>{const{search:e}=(0,z.useLocation)();return(0,n.useMemo)(()=>new URLSearchParams(e),[e])},jt=e=>{const t=Nt(),[r,o]=(0,n.useState)(null);return(0,n.useEffect)(()=>{t.has("field")&&t.get("field")===e&&r&&("input"in r?(r.input.current.focus(),r.input.current.scrollIntoView({block:"center"})):(r.focus(),r.scrollIntoView({block:"center"})))},[t,e,r]),o},U=e=>`${e/16}rem`,Ke=({autoComplete:e,customInputs:t,description:r,disabled:o,intlLabel:s,labelAction:u,error:i,name:l,onChange:d,options:f,placeholder:m,required:g,step:v,type:_,value:h,isNullable:x,attribute:E,...S})=>{const{formatMessage:C}=(0,L.useIntl)(),{hint:b}=Cn({description:r,fieldSchema:E,type:E?.type||_}),[M,O]=(0,n.useState)(!1),k=jt(l),N=t?t[_]:null,P=h??void 0,Y=P??"";function he(T){if(!T)return null;const q={...T.values};return C(typeof T=="string"?{id:T,defaultMessage:T}:{id:T.id,defaultMessage:T?.defaultMessage??T.id},q)}const A=he(i);if(N)return n.default.createElement(N,{...S,ref:k,attribute:E,description:r,hint:b,disabled:o,intlLabel:s,labelAction:u,error:A,name:l,onChange:d,options:f,required:g,placeholder:m,type:_,value:P});const B=s.id?C({id:s.id,defaultMessage:s.defaultMessage},{...s.values}):l,W=m?C({id:m.id,defaultMessage:m.defaultMessage},{...m.values}):"";switch(_){case"json":return n.default.createElement(c.JSONInput,{ref:k,label:B,labelAction:u,value:P,error:A,disabled:o,hint:b,required:g,onChange:T=>{const q=!E.required&&!T.length?null:T;d({target:{name:l,value:q}})},minHeight:U(252),maxHeight:U(504)});case"bool":return n.default.createElement(c.ToggleInput,{ref:k,checked:h===null?null:h||!1,disabled:o,hint:b,label:B,error:A,labelAction:u,name:l,offLabel:C({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:C({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:T=>{d({target:{name:l,value:T.target.checked}})},required:g,onClear:()=>{d({target:{name:l,value:null}})},clearLabel:x&&C({id:"app.components.ToggleCheckbox.clear-label",defaultMessage:"Clear"})});case"checkbox":return n.default.createElement(c.Checkbox,{ref:k,disabled:o,error:A,hint:b,id:l,name:l,onValueChange:T=>{d({target:{name:l,value:T}})},required:g,value:Boolean(P)},B);case"datetime":return n.default.createElement(c.DateTimePicker,{ref:k,clearLabel:C({id:"clearLabel",defaultMessage:"Clear"}),disabled:o,error:A,label:B,labelAction:u,id:l,hint:b,name:l,onChange:T=>{const q=T?T.toISOString():null;d({target:{name:l,value:q,type:_}})},onClear:()=>d({target:{name:l,value:null,type:_}}),placeholder:W,required:g,value:P?new Date(P):void 0});case"date":return n.default.createElement(c.DatePicker,{ref:k,clearLabel:C({id:"clearLabel",defaultMessage:"Clear"}),disabled:o,error:A,label:B,labelAction:u,id:l,hint:b,name:l,onChange:T=>{d({target:{name:l,value:T?(0,Dt.default)(T,{representation:"date"}):null,type:_}})},onClear:()=>d({target:{name:l,value:null,type:_}}),placeholder:W,required:g,selectedDate:P?new Date(P):void 0,selectedDateLabel:T=>`Date picker, current is ${T}`});case"number":return n.default.createElement(c.NumberInput,{ref:k,disabled:o,error:A,label:B,labelAction:u,id:l,hint:b,name:l,onValueChange:T=>d({target:{name:l,value:T,type:_}}),placeholder:W,required:g,step:v,value:P});case"email":return n.default.createElement(c.TextInput,{ref:k,autoComplete:e,disabled:o,error:A,label:B,labelAction:u,id:l,hint:b,name:l,onChange:d,placeholder:W,required:g,type:"email",value:Y});case"timestamp":case"text":case"string":return n.default.createElement(c.TextInput,{ref:k,autoComplete:e,disabled:o,error:A,label:B,labelAction:u,id:l,hint:b,name:l,onChange:d,placeholder:W,required:g,type:"text",value:Y});case"password":return n.default.createElement(c.TextInput,{ref:k,autoComplete:e,disabled:o,error:A,endAction:n.default.createElement("button",{"aria-label":C({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{O(T=>!T)},style:{border:"none",padding:0,background:"transparent"},type:"button"},M?n.default.createElement(c.Icon,{as:I.Eye,color:"neutral500"}):n.default.createElement(c.Icon,{as:I.EyeStriked,color:"neutral500"})),label:B,labelAction:u,id:l,hint:b,name:l,onChange:d,placeholder:W,required:g,type:M?"text":"password",value:Y});case"select":return n.default.createElement(c.SingleSelect,{ref:k,disabled:o,error:A,label:B,labelAction:u,id:l,hint:b,name:l,onChange:T=>d({target:{name:l,value:T,type:"select"}}),placeholder:W,required:g,value:P},f.map(({metadatas:{intlLabel:T,disabled:q,hidden:K},key:Ee,value:X})=>n.default.createElement(c.SingleSelectOption,{key:Ee,value:X,disabled:q,hidden:K},C(T))));case"textarea":return n.default.createElement(c.Textarea,{ref:k,disabled:o,error:A,label:B,labelAction:u,id:l,hint:b,name:l,onChange:T=>d({target:{name:l,value:T.target.value,type:_}}),required:g,placeholder:W,type:_,value:Y});case"time":{let T=P;if(P&&P.split(":").length>2){const[q,K]=P.split(":");T=`${q}:${K}`}return n.default.createElement(c.TimePicker,{ref:k,clearLabel:C({id:"clearLabel",defaultMessage:"Clear"}),disabled:o,error:A,label:B,labelAction:u,id:l,hint:b,name:l,onChange:q=>{d({target:{name:l,value:`${q}`,type:_}})},onClear:()=>{d({target:{name:l,value:null,type:_}})},placeholder:W,required:g,value:T})}default:return n.default.createElement(c.TextInput,{disabled:!0,error:i,label:B,labelAction:u,id:l,hint:b,name:l,placeholder:"Not supported",required:g,type:"text",value:""})}};Ke.defaultProps={autoComplete:void 0,customInputs:null,description:null,disabled:!1,error:"",isNullable:void 0,labelAction:void 0,placeholder:null,required:!1,options:[],step:1,value:void 0,attribute:null},Ke.propTypes={autoComplete:a.default.string,customInputs:a.default.object,description:a.default.shape({id:a.default.string.isRequired,defaultMessage:a.default.string.isRequired,values:a.default.object}),attribute:a.default.object,disabled:a.default.bool,error:a.default.oneOfType([a.default.string,a.default.shape({id:a.default.string.isRequired,defaultMessage:a.default.string})]),intlLabel:a.default.shape({id:a.default.string.isRequired,defaultMessage:a.default.string.isRequired,values:a.default.object}).isRequired,isNullable:a.default.bool,labelAction:a.default.element,name:a.default.string.isRequired,onChange:a.default.func.isRequired,options:a.default.arrayOf(a.default.shape({metadatas:a.default.shape({intlLabel:a.default.shape({id:a.default.string.isRequired,defaultMessage:a.default.string.isRequired}).isRequired,disabled:a.default.bool,hidden:a.default.bool}).isRequired,key:a.default.oneOfType([a.default.string,a.default.number]).isRequired,value:a.default.oneOfType([a.default.string,a.default.number]).isRequired}).isRequired),placeholder:a.default.shape({id:a.default.string.isRequired,defaultMessage:a.default.string.isRequired,values:a.default.object}),required:a.default.bool,step:a.default.number,type:a.default.string.isRequired,value:a.default.any};/**
 * @preserve
 * @typedef {Object} MenuItem
 * @property {string} to
 * @property {React.ComponentType} icon
 * @property {import('react-intl').MessageDescriptor} intlLabel
 * @property {string[]} [permissions]
 * @property {React.ComponentType} [Component]
 *//**
 * @preserve
 * @typedef {Object} StrapiAppContextValue
 * @property {(pluginId: string) => unknown | undefined} getPlugin
 * @property {MenuItem[]} menu
 * @property {Record<string, unknown>} plugins
 * @property {(hookName: string) => Promise<unknown>} runHookParallel
 * @property {(hookName: string) => Promise<unknown>} runHookWaterfall
 * @property {(hookName: string) => Promise<unknown>} runHookSeries
 * @property {Record<string, unknown>} settings
 *//**
 * @preserve
 * @type {React.Context<StrapiAppContextValue>}
 */const Ge=n.createContext(),Ut=({children:e,getPlugin:t,menu:r,plugins:o,runHookParallel:s,runHookSeries:u,runHookWaterfall:i,settings:l})=>{const d=n.useMemo(()=>({getPlugin:t,menu:r,plugins:o,runHookParallel:s,runHookSeries:u,runHookWaterfall:i,settings:l}),[t,r,o,s,u,i,l]);return n.createElement(Ge.Provider,{value:d},e)};Ut.propTypes={children:a.default.node.isRequired,getPlugin:a.default.func.isRequired,menu:a.default.arrayOf(a.default.shape({to:a.default.string.isRequired,icon:a.default.func.isRequired,intlLabel:a.default.shape({id:a.default.string.isRequired,defaultMessage:a.default.string.isRequired}).isRequired,permissions:a.default.array,Component:a.default.func})).isRequired,plugins:a.default.object.isRequired,runHookParallel:a.default.func.isRequired,runHookWaterfall:a.default.func.isRequired,runHookSeries:a.default.func.isRequired,settings:a.default.object.isRequired};/**
 * @preserve
 * @returns {StrapiAppContextValue}
 */const Wt=()=>n.useContext(Ge),Yt=({area:e,...t})=>{const{getPlugin:r}=Wt(),[o,s,u]=e.split("."),i=r(o);if(!i)return null;const l=i.getInjectedComponents(s,u);return l?l.map(({name:d,Component:f})=>n.default.createElement(f,{key:d,...t})):null};Yt.propTypes={area:a.default.string.isRequired};const Sn=e=>n.default.createElement(ie.Link,{...e,as:z.NavLink}),Ln=e=>n.default.createElement(ie.LinkButton,{...e,as:z.NavLink}),Je=({content:e,...t})=>{const{formatMessage:r}=(0,L.useIntl)();return n.default.createElement(c.EmptyStateLayout,{icon:n.default.createElement(I.EmptyDocuments,{width:"10rem"}),...t,content:r({id:e.id,defaultMessage:e.defaultMessage},e.values)})};Je.defaultProps={content:{id:"app.components.EmptyStateLayout.content-document",defaultMessage:"No content found",values:{}}},Je.propTypes={content:a.default.shape({id:a.default.string,defaultMessage:a.default.string,values:a.default.object})};const In=e=>n.default.createElement(c.EmptyStateLayout,{icon:n.default.createElement(I.EmptyPictures,{width:"10rem"}),...e}),Ze=({action:e})=>{const{formatMessage:t}=(0,L.useIntl)();return n.default.createElement(c.EmptyStateLayout,{icon:n.default.createElement(I.EmptyPermissions,{width:"10rem"}),content:t({id:"app.components.EmptyStateLayout.content-permissions",defaultMessage:"You don't have the permissions to access that content"}),action:e})};Ze.defaultProps={action:void 0},Ze.propTypes={action:a.default.node};const Pn=(0,F.default)(I.EyeStriked)`
  > path {
    fill: ${({theme:e})=>e.colors.neutral600};
  }
`,et=({description:e,intlLabel:t,labelAction:r,error:o,name:s})=>{const{formatMessage:u}=(0,L.useIntl)(),i=t.id?u({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):s,l=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",d=u({id:"components.NotAllowedInput.text",defaultMessage:"No permissions to see this field"}),f=o?u({id:o,defaultMessage:o}):"";return n.default.createElement(c.TextInput,{disabled:!0,error:f,label:i,labelAction:r,id:s,hint:l,name:s,placeholder:d,startAction:n.default.createElement(Pn,null),type:"text",value:""})};et.defaultProps={description:null,error:"",labelAction:void 0},et.propTypes={description:a.default.shape({id:a.default.string.isRequired,defaultMessage:a.default.string.isRequired,values:a.default.object}),error:a.default.string,intlLabel:a.default.shape({id:a.default.string.isRequired,defaultMessage:a.default.string.isRequired,values:a.default.object}).isRequired,labelAction:a.default.element,name:a.default.string.isRequired};const tt=({trackedEvent:e,options:t,defaultValue:r})=>{const{formatMessage:o}=(0,L.useIntl)(),[{query:s},u]=V(),{trackUsage:i}=ne(),l=f=>{e&&i(e),u({pageSize:f,page:1})},d=s?.pageSize||r;return n.default.createElement(c.Flex,{gap:2},n.default.createElement(c.SingleSelect,{size:"S","aria-label":o({id:"components.PageFooter.select",defaultMessage:"Entries per page"}),onChange:l,value:d},t.map(f=>n.default.createElement(c.Option,{key:f,value:f},f))),n.default.createElement(c.Typography,{textColor:"neutral600",as:"span"},o({id:"components.PageFooter.select",defaultMessage:"Entries per page"})))};tt.defaultProps={trackedEvent:null,options:["10","20","50","100"],defaultValue:"10"},tt.propTypes={trackedEvent:a.default.string,options:a.default.arrayOf(a.default.string.isRequired),defaultValue:a.default.string};const at=({pagination:{pageCount:e},boundaryCount:t,siblingCount:r})=>{const[{query:o}]=V(),s=parseInt(o?.page||"1",10),{pathname:u}=(0,z.useLocation)(),{formatMessage:i}=(0,L.useIntl)(),l=E=>(0,de.stringify)({...o,page:E},{encode:!1}),d=l(s+(e>1?1:0)),f=l(s-1),m=(E,S)=>{const C=S-E+1;return Array.from({length:C},(b,M)=>E+M)},g=m(1,Math.min(t,e)),v=m(Math.max(e-t+1,t+1),e),_=Math.max(Math.min(s-r,e-t-r*2-1),t+2),h=Math.min(Math.max(s+r,t+r*2+2),v.length>0?v[0]-2:e-1),x=[...g,..._>t+2?["start-ellipsis"]:t+1<e-t?[t+1]:[],...m(_,h),...h<e-t-1?["end-ellipsis"]:e-t>t?[e-t]:[],...v];return n.default.createElement(c.Pagination,{activePage:s,pageCount:e},n.default.createElement(c.PreviousLink,{as:z.NavLink,to:{pathname:u,search:f}},i({id:"components.pagination.go-to-previous",defaultMessage:"Go to previous page"})),x.map(E=>typeof E=="number"?n.default.createElement(c.PageLink,{as:z.NavLink,key:E,number:E,to:{pathname:u,search:l(E)}},i({id:"components.pagination.go-to",defaultMessage:"Go to page {page}"},{page:E})):n.default.createElement(c.Dots,{key:E})),n.default.createElement(c.NextLink,{as:z.NavLink,to:{pathname:u,search:d}},i({id:"components.pagination.go-to-next",defaultMessage:"Go to next page"})))};at.defaultProps={boundaryCount:1,siblingCount:1},at.propTypes={boundaryCount:a.default.number,pagination:a.default.shape({pageCount:a.default.number.isRequired}).isRequired,siblingCount:a.default.number};var Mn=e=>{var t={};return R.d(t,e),t},rl=e=>()=>e,zt=Mn({components:()=>Et.components,default:()=>Et.default});const nt=({components:e,styles:t,error:r,ariaErrorMessage:o,...s})=>{const u=(0,F.useTheme)(),i=Fn(u,r);return n.default.createElement(zt.default,{menuPosition:"fixed",components:{ClearIndicator:wn,DropdownIndicator:An,IndicatorSeparator:()=>null,LoadingIndicator:()=>null,...e},"aria-errormessage":r&&o,"aria-invalid":!!r,styles:{...i,...t},...s})};nt.defaultProps={ariaErrorMessage:void 0,components:void 0,error:void 0,styles:void 0},nt.propTypes={ariaErrorMessage:a.default.string,components:a.default.object,error:a.default.string,styles:a.default.object};const Vt=(0,F.default)(c.Box)`
  background: transparent;
  border: none;
  position: relative;
  z-index: 1;

  svg {
    height: ${11/16}rem;
    width: ${11/16}rem;
  }

  svg path {
    fill: ${({theme:e})=>e.colors.neutral600};
  }
`,wn=e=>{const t=zt.components.ClearIndicator;return n.default.createElement(t,{...e},n.default.createElement(Vt,{as:"button",type:"button"},n.default.createElement(I.Cross,null)))},On=(0,F.default)(Vt)`
  display: flex;
  background: none;
  border: none;

  svg {
    width: ${9/16}rem;
  }
`,An=({innerRef:e,innerProps:t})=>n.default.createElement(On,{ref:e,paddingRight:3,...t},n.default.createElement(I.CarretDown,null)),Fn=(e,t)=>({clearIndicator:r=>({...r,padding:0,paddingRight:e.spaces[3]}),container:r=>({...r,background:e.colors.neutral0,lineHeight:"normal"}),control(r,o){let s=e.colors.neutral200,u,i;return o.isFocused?(s=e.colors.primary600,u=e.colors.primary600):t&&(s=e.colors.danger600),o.isDisabled&&(i=`${e.colors.neutral150} !important`),{...r,fontSize:e.fontSizes[2],height:40,border:`1px solid ${s} !important`,outline:0,backgroundColor:i,borderRadius:e.borderRadius,boxShadow:u?`${u} 0px 0px 0px 2px`:0}},indicatorContainer:r=>({...r,padding:0,paddingRight:e.spaces[3]}),input:r=>({...r,margin:0,padding:0,color:e.colors.neutral800,gridTemplateColumns:"0 100%"}),menu(r){return{...r,width:"100%",marginTop:e.spaces[1],backgroundColor:e.colors.neutral0,color:e.colors.neutral800,borderRadius:e.borderRadius,border:`1px solid ${e.colors.neutral200}`,boxShadow:e.shadows.tableShadow,fontSize:e.fontSizes[2],zIndex:2}},menuList:r=>({...r,paddingLeft:e.spaces[1],paddingTop:e.spaces[1],paddingRight:e.spaces[1],paddingBottom:e.spaces[1]}),menuPortal:r=>({...r,zIndex:100}),option(r,o){let s=r.backgroundColor;return(o.isFocused||o.isSelected)&&(s=e.colors.primary100),{...r,color:e.colors.neutral800,lineHeight:e.spaces[5],backgroundColor:s,borderRadius:e.borderRadius,"&:active":{backgroundColor:e.colors.primary100}}},placeholder:r=>({...r,color:e.colors.neutral600,marginLeft:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"80%"}),singleValue(r,o){let s=e.colors.neutral800;return o.isDisabled&&(s=e.colors.neutral600),{...r,marginLeft:0,color:s}},valueContainer:r=>({...r,cursor:"pointer",padding:0,paddingLeft:e.spaces[4],marginLeft:0,marginRight:0})});var Bn=e=>{var t={};return R.d(t,e),t},ol=e=>()=>e,Qt=Bn({intervalToDuration:()=>bt.intervalToDuration,isPast:()=>bt.isPast});const rt=({timestamp:e,customIntervals:t})=>{const{formatRelativeTime:r,formatDate:o,formatTime:s}=(0,L.useIntl)(),u=(0,Qt.intervalToDuration)({start:e,end:Date.now()}),i=["years","months","days","hours","minutes","seconds"].find(m=>u[m]>0&&Object.keys(u).includes(m)),l=(0,Qt.isPast)(e)?-u[i]:u[i],d=t.find(m=>u[m.unit]<m.threshold),f=d?d.text:r(l,i,{numeric:"auto"});return n.default.createElement("time",{dateTime:e.toISOString(),title:`${o(e)} ${s(e)}`},f)};rt.propTypes={timestamp:a.default.instanceOf(Date).isRequired,customIntervals:a.default.arrayOf(a.default.shape({unit:a.default.oneOf(["years","months","days","hours","minutes","seconds"]).isRequired,text:a.default.string.isRequired,threshold:a.default.number.isRequired}))},rt.defaultProps={customIntervals:[]};const ot=({label:e,placeholder:t,trackedEvent:r,trackedEventDetails:o})=>{const s=(0,n.useRef)(null),u=(0,n.useRef)(null),[{query:i},l]=V(),[d,f]=(0,n.useState)(i?._q||""),[m,g]=(0,n.useState)(!!d),{formatMessage:v}=(0,L.useIntl)(),{trackUsage:_}=ne(),h=()=>g(S=>!S);(0,n.useLayoutEffect)(()=>{m&&s.current&&s.current.focus()},[m]);const x=()=>{f(""),l({_q:""},"remove")},E=S=>{S.preventDefault(),d?(r&&_(r,o),l({_q:encodeURIComponent(d),page:1})):(h(),l({_q:""},"remove"))};return m?n.default.createElement(c.SearchForm,{onSubmit:E},n.default.createElement(c.Searchbar,{ref:s,name:"search",onChange:({target:{value:S}})=>f(S),value:d,clearLabel:v({id:"clearLabel",defaultMessage:"Clear"}),onClear:x,size:"S",placeholder:t},e)):n.default.createElement(c.IconButton,{ref:u,icon:n.default.createElement(c.Icon,{as:I.Search,color:"neutral800"}),label:v({id:"global.search",defaultMessage:"Search"}),onClick:h})};ot.defaultProps={placeholder:void 0,trackedEventDetails:void 0,trackedEvent:null},ot.propTypes={label:a.default.string.isRequired,placeholder:a.default.string,trackedEventDetails:a.default.object,trackedEvent:a.default.string};var qn=e=>{var t={};return R.d(t,e),t},sl=e=>()=>e,Dn=qn({Helmet:()=>Ra.Helmet});const Ht=({name:e})=>{const{formatMessage:t}=(0,L.useIntl)(),r=t({id:"Settings.PageTitle",defaultMessage:"Settings - {name}"},{name:e});return n.default.createElement(Dn.Helmet,{title:r})};Ht.propTypes={name:a.default.string.isRequired};const $n=F.default.div`
  margin-right: ${({theme:e})=>e.spaces[3]};
  width: ${6/16}rem;
  height: ${6/16}rem;
  border-radius: 50%;
  background: ${({theme:e,backgroundColor:t})=>e.colors[t]};
`,st=({variant:e})=>{const t=`${e}600`;return n.default.createElement($n,{backgroundColor:t})};st.defaultProps={variant:"primary"},st.propTypes={variant:a.default.oneOf(["alternative","danger","neutral","primary","secondary","success","warning"])};const Xt=(0,n.createContext)(),Nn=()=>(0,n.useContext)(Xt);var jn=e=>{var t={};return R.d(t,e),t},ll=e=>()=>e,Kt=jn({createPortal:()=>Sa.createPortal});/**
 * @preserve
 * @typedef {Object} AutoReloadOverlayBlockerConfig
 * @property {string | undefined} title
 * @property {string | undefined} description
 * @property {'reload' | 'time' | undefined} icon
 *//**
 * @preserve
 * @typedef {Object} AutoReloadOverlayBlockerContextValue
 * @property {(config: AutoReloadOverlayBlockerConfig) => void} lockAppWithAutoreload
 * @property {() => void} unlockAppWithAutoreload
 *//**
 * @preserve
 * @type {React.Context<AutoReloadOverlayBlockerContextValue>}
 */const lt=n.createContext(),Un=30*1e3,Gt=({children:e})=>{const[t,r]=n.useState(!1),[o,s]=n.useState(void 0),[u,i]=n.useState(!1),l=n.useCallback((_=void 0)=>{r(!0),s(_)},[]),d=n.useCallback(()=>{r(!1),s(void 0)},[]);n.useEffect(()=>{if(t){const _=setTimeout(()=>{i(!0)},Un);return()=>{clearTimeout(_)}}},[t]);let f=o?.icon||"reload",m={id:o?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},g={id:o?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};u&&(f="time",m={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},g={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const v=n.useMemo(()=>({lockAppWithAutoreload:l,unlockAppWithAutoreload:d}),[l,d]);return n.createElement(lt.Provider,{value:v},n.createElement(Jt,{displayedIcon:f,isOpen:t,description:m,title:g}),e)};Gt.propTypes={children:a.default.element.isRequired};const Jt=({displayedIcon:e="reload",description:t,title:r,isOpen:o})=>{const{formatMessage:s}=(0,L.useIntl)();return o&&globalThis?.document?.body?(0,Kt.createPortal)(n.createElement(zn,{id:"autoReloadOverlayBlocker",direction:"column",alignItems:"center",gap:6},n.createElement(c.Flex,{direction:"column",alignItems:"center",gap:2},n.createElement(c.Typography,{as:"h1",variant:"alpha"},s(r)),n.createElement(c.Typography,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},s(t))),e==="reload"&&n.createElement(Zt,{padding:6,background:"primary100",borderColor:"primary200"},n.createElement(Yn,{width:U(36),height:U(36)})),e==="time"&&n.createElement(Zt,{padding:6,background:"primary100",borderColor:"primary200"},n.createElement(I.Clock,{width:U(40),height:U(40)})),n.createElement(c.Box,{marginTop:2},n.createElement(ie.Link,{href:"https://docs.strapi.io",isExternal:!0},s({id:"global.documentation",defaultMessage:"Read the documentation"})))),globalThis.document.body):null};Jt.propTypes={displayedIcon:a.default.string.isRequired,description:a.default.object.isRequired,isOpen:a.default.bool.isRequired,title:a.default.object.isRequired};const Wn=(0,F.keyframes)`
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(359deg);
    }
  `,Yn=(0,F.default)(I.Refresh)`
  animation: ${Wn} 1s infinite linear;
`,zn=(0,F.default)(c.Flex)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  /* TODO: set this up in the theme for consistence z-index values */
  z-index: 1140;
  padding-top: ${U(160)};

  & > * {
    position: relative;
    z-index: 1;
  }

  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:e})=>e.colors.neutral0};
    opacity: 0.9;
  }
`,Zt=(0,F.default)(c.Box)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:e})=>e.colors.primary600} !important;
    }
  }
`;/**
 * @preserve
 * @returns {AutoReloadOverlayBlockerContextValue}
 */const Vn=()=>n.useContext(lt);/**
 * @preserve
 * @typedef {Object} CustomField
 * @property {string} name - The name of the custom field
 * @property {string} pluginId - The plugin id of the custom field
 * @property {string} type - The type of the custom field
 * @property {import('react-intl').MessageDescriptor} intlLabel
 * @property {import('react-intl').MessageDescriptor} intlDescription
 * @property {unknown} components
 * @property {unknown} options
 * @property {import('react').ComponentType} icon
 *//**
 * @preserve
 * @typedef {Object} CustomFieldsContextValue
 * @property {(uid: string) => CustomField | undefined} get
 * @property {() => Record<string, CustomField>} getAll
 *//**
 * @preserve
 * @type {React.Context<CustomFieldsContextValue>}
 */const it=n.createContext({get(){},getAll(){return{}}}),ea=({children:e,customFields:t})=>{const r=t.get.bind(t),o=t.getAll.bind(t),s=n.useMemo(()=>({get:r,getAll:o}),[r,o]);return n.createElement(it.Provider,{value:s},e)};ea.propTypes={children:a.default.node.isRequired,customFields:a.default.shape({get:a.default.func.isRequired,getAll:a.default.func.isRequired}).isRequired};/**
 * @preserve
 * @returns {CustomFieldsContextValue}
 */const Qn=()=>n.useContext(it);/**
 * @preserve
 * @typedef {Object} GuidedTourContextValue
 * @property {string} currentStep
 * @property {Object} guidedTourState
 * @property {boolean} isGuidedTourVisible
 * @property {boolean} isSkipped
 * @property {(step: string) => void} setCurrentStep
 * @property {(isVisible: boolean) => void} setGuidedTourVisibility
 * @property {(isSkipped: boolean) => void} setSkipped
 * @property {(step: string, state: { create: boolean; success: boolean }) => void} setStepState
 * @property {(section: string) => void} startSection
 *//**
 * @preserve
 * @type {React.Context<GuidedTourContextValue>}
 */const ut=n.createContext(),ct=({children:e,currentStep:t,guidedTourState:r,isGuidedTourVisible:o,isSkipped:s,setCurrentStep:u,setGuidedTourVisibility:i,setSkipped:l,setStepState:d,startSection:f})=>{const m=n.useMemo(()=>({currentStep:t,guidedTourState:r,isGuidedTourVisible:o,isSkipped:s,setCurrentStep:u,setGuidedTourVisibility:i,setSkipped:l,setStepState:d,startSection:f}),[t,r,o,s,u,i,l,d,f]);return n.createElement(ut.Provider,{value:m},e)};ct.defaultProps={currentStep:null,isGuidedTourVisible:!1},ct.propTypes={children:a.default.node.isRequired,currentStep:a.default.string,guidedTourState:a.default.objectOf(a.default.shape({create:a.default.bool,success:a.default.bool})).isRequired,isGuidedTourVisible:a.default.bool,isSkipped:a.default.bool.isRequired,setCurrentStep:a.default.func.isRequired,setGuidedTourVisibility:a.default.func.isRequired,setSkipped:a.default.func.isRequired,setStepState:a.default.func.isRequired,startSection:a.default.func.isRequired};/**
 * @preserve
 * @returns {GuidedTourContextValue}
 */const Hn=()=>n.useContext(ut);/**
 * @preserve
 * @typedef {Object} LibraryContextValue
 * @property {Record<string, React.ComponentType>} fields
 * @property {Record<string, React.ComponentType>} components
 *//**
 * @preserve
 * @type {React.Context<LibraryContextValue>} LibraryContext
 */const dt=n.createContext(),ta=({children:e,fields:t,components:r})=>{const o=n.useMemo(()=>({fields:t,components:r}),[t,r]);return n.createElement(dt.Provider,{value:o},e)};ta.propTypes={children:a.default.node.isRequired,components:a.default.object.isRequired,fields:a.default.object.isRequired};/**
 * @preserve
 * @returns {LibraryContextValue}
 */const Xn=()=>n.useContext(dt);/**
 * @preserve
 * @typedef {Object} OverlayBlockerContextValue
 * @property {() => void} lockApp
 * @property {() => void} unlockApp
 *//**
 * @preserve
 * @type {React.Context<OverlayBlockerContextValue>}
 */const ft=n.createContext(),aa=({children:e})=>{const[t,r]=n.useState(!1),o=n.useCallback(()=>{r(!0)},[]),s=n.useCallback(()=>{r(!1)},[]),u=n.useMemo(()=>({lockApp:o,unlockApp:s}),[o,s]);return n.createElement(ft.Provider,{value:u},e,t&&globalThis?.document?.body?(0,Kt.createPortal)(n.createElement(Kn,{id:"overlayBlocker"}),globalThis.document.body):null)};aa.propTypes={children:a.default.node.isRequired};const Kn=(0,F.default)(c.Box)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  /* TODO: set this up in the theme for consistence z-index values */
  z-index: 1140;
`;/**
 * @preserve
 * @returns {OverlayBlockerContextValue}
 */const Gn=()=>n.useContext(ft),Jn="apiError.";function na(e,t){const r=`${Jn}${e}`;return typeof t=="function"?t(r):r}function ra(e,{name:t,intlMessagePrefixCallback:r}){const{message:o,path:s}=e;return{id:na(o,r),defaultMessage:o,name:e?.name??t,values:{path:s?.join(".")}}}function pt(e,t){const{error:r}=e.response.data;return r?.details?.errors?{name:r.name,message:r?.message||null,errors:r.details.errors.map(o=>ra(o,{name:r.name,intlMessagePrefixCallback:t}))}:ra(r,{intlMessagePrefixCallback:t})}function Zn(e){const{formatMessage:t}=(0,L.useIntl)();return{formatAPIError(r){try{return tr(r,{intlMessagePrefixCallback:e,formatMessage:t})}catch{if(r instanceof Le.AxiosError)return er(r,{intlMessagePrefixCallback:e,formatMessage:t});throw new Error("formatAPIError: Unknown error:",r)}}}}function er(e,{intlMessagePrefixCallback:t,formatMessage:r}){const{code:o,message:s}=e;return r({id:na(s,t),defaultMessage:s,values:{code:o}})}function tr(e,{formatMessage:t,intlMessagePrefixCallback:r}){if(!t)throw new Error("The formatMessage callback is a mandatory argument.");const o=pt(e,r);return o.message?o.message:o?.errors?o.errors.map(({id:s,defaultMessage:u,values:i})=>t({id:s,defaultMessage:u},i)).join(`
`):t(o)}const ar=()=>({copy:(0,n.useCallback)(async t=>{try{if(typeof t!="string"&&typeof t!="number")throw new Error(`Cannot copy typeof ${typeof t} to clipboard, must be a string`);if(t==="")throw new Error("Cannot copy empty string to clipboard.");const r=t.toString();return await navigator.clipboard.writeText(r),!0}catch{return!1}},[])}),mt=new Map;function oa(e,t){const r=e+(t?Object.entries(t).sort((s,u)=>s[0]<u[0]?-1:1).join():"");if(mt.has(r))return mt.get(r);const o=new Intl.Collator(e,t);return mt.set(r,o),o}const sa=()=>{const e=(0,n.useRef)(null);return e.current===null&&(e.current=new AbortController),(0,n.useEffect)(()=>()=>{e.current.abort()},[]),(0,n.useMemo)(()=>Me({signal:e.current.signal}),[])};function nr(e,t){let r=oa(e,{usage:"search",...t});return{startsWith(o,s){return s.length===0?!0:(o=o.normalize("NFC"),s=s.normalize("NFC"),r.compare(o.slice(0,s.length),s)===0)},endsWith(o,s){return s.length===0?!0:(o=o.normalize("NFC"),s=s.normalize("NFC"),r.compare(o.slice(-s.length),s)===0)},includes(o,s){if(s.length===0)return!0;o=o.normalize("NFC"),s=s.normalize("NFC");let u=0,i=s.length;for(;u+i<=o.length;u++){let l=o.slice(u,u+i);if(r.compare(s,l)===0)return!0}return!1}}}const rr=(e="main",t=[])=>{(0,n.useEffect)(()=>{const r=document.querySelector(e);r?(r.focus(),window.scrollTo({top:0})):console.warn(`[useFocusWhenNavigate] The page does not contain the selector "${e}" and can't be focused.`)},t)},or=e=>{(0,n.useEffect)(()=>(e&&document.body.classList.add("lock-body-scroll"),()=>{document.body.classList.remove("lock-body-scroll")}),[e])},sr=(e,t)=>{const[r,o]=(0,n.useState)(()=>{const s=window.localStorage.getItem(e);if(s!==null)try{return JSON.parse(s)}catch{return s}return t});return(0,n.useEffect)(()=>{window.localStorage.setItem(e,JSON.stringify(r))},[e,r]),[r,o]};var lr=e=>{var t={};return R.d(t,e),t},il=e=>()=>e,ir=lr({useQueries:()=>La.useQueries});const ur=(e,t)=>{const[r,o]=(0,n.useState)(!1),s=(0,n.useMemo)(()=>Object.keys(e).map(h=>({name:h,hasPermission:!1})),[e]),{allPermissions:u}=ue(),{post:i}=sa(),l=t||u,d=Object.entries(e),f=(0,ir.useQueries)(d.map(([h,x])=>({queryKey:["useRBAC",h,x,l],async queryFn(){if(!x||!x.length)return{name:h,hasPermission:!0};const E=l.filter(S=>x.find(b=>b.action===S.action&&b.subject===S.subject)!==void 0);if(E.length>0&&E.every(S=>Array.isArray(S.conditions)&&S.conditions.length>0))try{const{data:{data:S}}=await i("/admin/permissions/check",{permissions:E.map(({action:C,subject:b})=>({action:C,subject:b}))});return{name:h,hasPermission:Array.isArray(S)&&S.every(C=>C===!0)}}catch{return{name:h,hasPermission:!1}}return{name:h,hasPermission:E.length>0}}}))),m=(0,n.useCallback)(()=>{o(!0)},[]),g=r||f.some(h=>h.isLoading),v=f.map(h=>h.data);return{allowedActions:(v.some(h=>h===void 0)?s:v).reduce((h,{name:x,hasPermission:E})=>(h[`can${cr(x)}`]=E,h),{}),isLoading:g,setIsLoading:m}},cr=e=>e.charAt(0).toUpperCase()+e.slice(1),dr=(e,t)=>{const[r,o]=(0,n.useState)(t);return[r,{selectOne:f=>{const m=r.findIndex(g=>e.every(v=>g[v]===f[v]));m>-1?o(g=>[...g.slice(0,m),...g.slice(m+1)]):o(g=>[...g,f])},selectAll:f=>{r.length>0?o([]):o(f)},selectOnly:f=>{r.indexOf(f)>-1?o([]):o([f])},selectMultiple:f=>{o(m=>[...m,...f.filter(g=>m.findIndex(v=>e.every(_=>v[_]===g[_]))===-1)])},deselectMultiple:f=>{o(m=>[...m.filter(g=>f.findIndex(v=>e.every(_=>g[_]===v[_]))===-1)])},setSelections:o}]},fr=(0,F.default)(c.IconButton)(({theme:e})=>`
  border-radius: ${U(30)};
  width: ${U(20)};
  height: ${U(20)};
  padding: ${U(3)};
  align-items: center;
  justify-content: center;
  svg {
    width: ${U(8)};
    rect {
      fill: ${e.colors.primary600}
    }
  }
`),pr=e=>n.default.createElement(fr,{icon:n.default.createElement(I.Minus,null),...e}),mr=["createdBy","updatedBy","publishedAt","id","_id"],gr=(e,t,r,o=mr)=>{const s=(u,i)=>Object.keys(u).reduce((l,d)=>{const f=xe(i,d),m=(0,G.default)(u,d),g=J(i,[d,"component"]),v=J(i,[d,"repeatable"]);let _=(0,G.default)(i,["options","timestamps"]);return Array.isArray(_)||(_=[]),[...o,..._].indexOf(d)!==-1?(delete l[d],l):m?f==="dynamiczone"?(l[d]=m.map(h=>s(h,r[h.__component])),l):(f==="component"&&(v?l[d]=m.map(h=>s(h,r[g])):l[d]=s(m,r[g])),l):l},Object.assign({},u));return s(e,t)},_r=(e,t,r)=>{const o=(s,u)=>Object.keys(s).reduce((i,l)=>{const d=xe(u,l),f=(0,G.default)(s,l),m=J(u,[l,"component"]),g=J(u,[l,"repeatable"]);if(d==="json"&&f!==void 0)return i[l]=JSON.stringify(f,null,2),i;if(!f)return i[l]=f,i;if(d==="dynamiczone")return i[l]=f.map(v=>o(v,r[v.__component])),i;if(d==="component"){let v;return g?v=f.map((_,h)=>{const x={..._,__temp_key__:h};return o(x,r[m])}):v=o(f,r[m]),i[l]=v,i}return i[l]=f,i},{});return o(e,t)},vr=(e,t)=>e.then(function(r){return[null,r]}).catch(function(r){return t&&Object.assign(r,t),[r,void 0]});var hr=e=>{var t={};return R.d(t,e),t},ul=e=>()=>e,Er=hr({default:()=>Ia.default}),br=e=>{var t={};return R.d(t,e),t},cl=e=>()=>e,la=br({default:()=>Pa.default});function yr(e,t){function r(o,s){return(0,Tt.default)(o,function(u,i,l){(0,Er.default)(i,s[l])||(u[l]=(0,la.default)(i)&&(0,la.default)(s[l])?r(i,s[l]):i)})}return r(e,t)}function xr(e,{getTrad:t}){const r=pt(e,t);return r?.errors?r.errors.reduce((o,s)=>(o[s.values.path]={id:s.id,defaultMessage:s.defaultMessage},o),{}):r.defaultMessage}const Tr=e=>e&&e[0]==="."?e.substr(1):e,Cr=(e,t)=>!e||!t?{}:{[e]:t[e]},kr=e=>(e?.inner||[]).reduce((t,r)=>(t[r.path.split("[").join(".").split("]").join("")]={id:r.message,defaultMessage:r.message,values:Cr(r?.type,r?.params)},t),{}),Rr=e=>e&&e.startsWith("/")?`${window.strapi.backendURL}${e}`:e,Sr=(e,t)=>Object.keys(e).reduce((r,o)=>(r[`${t}.${o}`]=e[o],r),{});var Lr=e=>{var t={};return R.d(t,e),t},dl=e=>()=>e,Ir=Lr({default:()=>Ma.default});const Pr="[@strapi/helper-plugin]:",Mr=e=>{const t=e;let r=!1;if(typeof t!="function")throw new TypeError(`${Pr} once requires a function parameter`);return(...o)=>{r||(t(...o),r=!0)}};function ia(e){return e.json?e.json():e}function wr(e,t=!0){return e.status>=200&&e.status<300||e.status===0?e:(e.status===401&&w.getToken()&&t&&(w.clearAppStorage(),window.location.reload()),ia(e).then(r=>{const o=new Error(e.statusText);throw o.response=e,o.response.payload=r,o}).catch(()=>{const r=new Error(e.statusText);throw r.response=e,r}))}function Or(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function ua(e){return new Promise(t=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(r=>{if(r.status>=400)throw new Error("not available");t(e)}).catch(()=>{setTimeout(()=>ua(e).then(t),100)})})}const Ar=Mr(console.warn);function Fr(...e){let[t,r={},o,s=!0,...u]=e,i;Ar("The `request` function is deprecated and will be removed in the next major version. Please use `useFetchClient` instead.");try{[{noAuth:i}]=u}catch{i=!1}r.headers||(r.headers=Object.assign({"Content-Type":"application/json"},r.headers));const l=w.getToken();if(l&&!i&&(r.headers=Object.assign({Authorization:`Bearer ${l}`},r.headers)),t=(0,Ir.default)(t,"/")?`${window.strapi.backendURL}${t}`:t,r&&r.params){const d=Or(r.params);t=`${t}?${d}`}return r&&r.body&&s&&(r.body=JSON.stringify(r.body)),fetch(t,r).then(wr).then(ia).then(d=>o?ua(d):d)}const Br=(e,t)=>`${e}${Math.floor(t*255).toString(16).padStart(2,0)}`,ca={onClick:e=>e.stopPropagation(),role:"button","aria-hidden":!0},qr=({fn:e,condition:t=!0})=>{if(t)return{style:{cursor:"pointer"},onClick:e}},Dr=()=>n.default.createElement("div",{...ca}),$r={email:"components.Input.error.validation.email",json:"components.Input.error.validation.json",lowercase:"components.Input.error.validation.lowercase",max:"components.Input.error.validation.max",maxLength:"components.Input.error.validation.maxLength",min:"components.Input.error.validation.min",minLength:"components.Input.error.validation.minLength",regex:"components.Input.error.validation.regex",required:"components.Input.error.validation.required",unique:"components.Input.error.validation.unique",integer:"component.Input.error.validation.integer"};function Nr(e){return e}var jr=p.Hn,Ur=p.xC,Wr=p.iq,Yr=p.NY,zr=p.OB,Vr=p.ug,Qr=p.m$,Hr=p.uT,Xr=p.O4,Kr=p.jW,Gr=p.QH,Jr=p.Y_,Zr=p.W1,eo=p.vq,to=p.MG,ao=p.xZ,no=p.tM,ro=p.c4,oo=p.x7,so=p.W$,lo=p.J5,io=p.l0,uo=p.jm,co=p.JQ,fo=p.Zc,po=p.XL,mo=p.Hw,go=p.rt,_o=p.rU,vo=p.Qj,ho=p.dO,Eo=p.dJ,bo=p.Hz,yo=p.ZF,xo=p.X0,To=p.cJ,Co=p.N$,ko=p.vG,Ro=p.w7,So=p.v4,Lo=p.tU,Io=p.RM,Po=p.oL,Mo=p.JV,wo=p.ij,Oo=p.fG,Ao=p.fC,Fo=p.m,Bo=p.SL,qo=p.fz,Do=p.qb,$o=p.t3,No=p.Bg,jo=p._Y,Uo=p.iA,Wo=p.Ui,Yo=p.L8,zo=p.I8,Vo=p.w6,Qo=p.e5,Ho=p.ZT,Xo=p.dU,Ko=p.nn,Go=p.tg,Jo=p.mD,Zo=p.k2,es=p.UN,ts=p.CJ,as=p.qX,ns=p.OT,rs=p.X7,os=p.CR,ss=p.jV,ls=p.Q1,is=p.WY,us=p.YB,cs=p.UW,ds=p.to,fs=p.I0,ps=p.So,ms=p.L7,gs=p.QI,_s=p.Vu,vs=p.Wq,hs=p.W6,Es=p.VP,bs=p.Xe,ys=p.mZ,xs=p.kY,Ts=p.L0,Cs=p.E2,ks=p.go,Rs=p.c1,Ss=p.yX,Ls=p.F5,Is=p.lm,Ps=p.o1,Ms=p.Yw,ws=p.aM,Os=p.Kx,As=p.ss,Fs=p.vn,Bs=p.Uq,qs=p.j1,Ds=p.Sh,$s=p.rS,Ns=p.Od;export{jr as AnErrorOccurred,Ur as AppInfoContext,Wr as AppInfoProvider,Yr as AppInfosContext,zr as AppInfosProvider,Vr as AutoReloadOverlayBlockerContext,Qr as AutoReloadOverlayBlockerProvider,Hr as Body,Xr as CheckPagePermissions,Kr as CheckPermissions,Gr as ConfirmDialog,Jr as ContentBox,Zr as ContentManagerEditViewDataManagerContext,eo as CustomFieldsContext,to as CustomFieldsProvider,ao as DateTimePicker,no as DynamicTable,ro as EmptyBodyTable,oo as EmptyStateLayout,so as FilterListURLQuery,lo as FilterPopoverURLQuery,io as Form,uo as GenericInput,co as GuidedTourContext,fo as GuidedTourProvider,po as InjectionZone,mo as LibraryContext,go as LibraryProvider,_o as Link,vo as LinkButton,ho as LoadingIndicatorPage,Eo as NoContent,bo as NoMedia,yo as NoPermissions,xo as NotAllowedInput,To as NotificationsContext,Co as NotificationsProvider,ko as OverlayBlockerContext,Ro as OverlayBlockerProvider,So as PageSizeURLQuery,Lo as PaginationURLQuery,Io as RBACContext,Po as RBACProviderContext,Mo as ReactSelect,wo as RelativeTime,Oo as RemoveRoundedButton,Ao as Root,Fo as SearchURLQuery,Bo as SettingsPageTitle,qo as SortIcon,Do as Status,$o as StopPropagation,No as StrapiAppContext,jo as StrapiAppProvider,Uo as Table,Wo as TrackingContext,Yo as TrackingProvider,zo as auth,Vo as contentManagementUtilRemoveFieldsFromData,Qo as difference,Ho as findMatchingPermissions,Xo as formatContentTypeData,Ko as getAPIInnerErrors,Go as getFetchClient,Jo as getFileExtension,Zo as getOtherInfos,es as getType,ts as getYupInnerErrors,as as hasPermissions,ns as normalizeAPIError,rs as onRowClick,os as prefixFileUrlWithBackendUrl,ss as prefixPluginTranslations,ls as pxToRem,is as request,us as setHexOpacity,cs as stopPropagation,ds as to,fs as translatedErrors,ps as useAPIErrorHandler,ms as useAppInfo,gs as useAppInfos,_s as useAutoReloadOverlayBlocker,vs as useCMEditViewDataManager,hs as useCallbackRef,Es as useClipboard,bs as useCollator,ys as useCustomFields,xs as useFetchClient,Ts as useFilter,Cs as useFocusInputField,ks as useFocusWhenNavigate,Rs as useGuidedTour,Ss as useLibrary,Ls as useLockScroll,Is as useNotification,Ps as useOverlayBlocker,Ms as usePersistentState,ws as useQuery,Os as useQueryParams,As as useRBAC,Fs as useRBACProvider,Bs as useSelectionState,qs as useStrapiApp,Ds as useTableContext,$s as useTracking,Ns as wrapAxiosInstance};
